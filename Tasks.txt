# –ü—Ä–æ–µ–∫—Ç: AI-Driven Text RPG Bot - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è Backend-–†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø —Å –£–ü–†–ê–í–õ–ï–ù–ò–ï–ú –ö–û–ù–¢–ï–ö–°–¢–û–ú AI –ß–ï–†–ï–ó UI)

**–û–±—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞:** –≠—Ç–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π backend-—Å–µ—Ä–≤–∏—Å –¥–ª—è Discord –±–æ—Ç–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö RPG –º–∏—Ä–æ–≤ (–ø–æ –≥–∏–ª—å–¥–∏—è–º). –ú–∏—Ä –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è AI (OpenAI API) –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫ (–±–æ–π, –∫–≤–µ—Å—Ç—ã, –¥–∏–∞–ª–æ–≥–∏) –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã—Ö –ø—Ä–∞–≤–∏–ª. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –ë–î, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≥–∏–ª—å–¥–∏–∏. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ—è–∑—ã—á–∏–µ (RU/EN), NLU –≤–≤–æ–¥, –°–∏—Å—Ç–µ–º–∞ –•–æ–¥–æ–≤, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π –ú–∞—Å—Ç–µ—Ä–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–π.

---

## –î–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –°–ø–∏—Å–æ–∫ –ó–∞–¥–∞—á –¥–ª—è Backend-–†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–î–ª—è AI –ê–≥–µ–Ω—Ç–∞ - –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –ó–∞–¥–∞—á–∏)

---

**–§–∞–∑–∞ 0: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (Foundation MVP)**

1.  üîß **0.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Discord –±–æ—Ç–∞ –∏ –±–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Guilds.**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É Python –ø—Ä–æ–µ–∫—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Discord API, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è Discord (`on_ready`, `on_message`, `on_guild_join`, `on_guild_remove`). –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ–±—ã—Ç–∏—è `on_guild_join`: –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä Discord (–≥–∏–ª—å–¥–∏—é), –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏ (—Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –ë–î –¥–ª—è –Ω–æ–≤–æ–π –≥–∏–ª—å–¥–∏–∏: –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ RuleConfig –∏ WorldState, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å ID –∫–∞–Ω–∞–ª–æ–≤ –≤ `GuildConfig`).** –†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–Ω–∞–ø—Ä., `/ping`). **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/lang [ru|en]` –¥–ª—è –∏–≥—Ä–æ–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–≥–æ —è–∑—ã–∫–∞ –≤ –ë–î (`Player.selected_language`).** **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/set_bot_language [ru|en]` (—Ç–æ–ª—å–∫–æ –¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞) –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —è–∑—ã–∫–∞ –±–æ—Ç–∞ –¥–ª—è **—ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏** –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–≥–æ –≤ `GuildConfig`.**
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ë–∞–∑–æ–≤—ã–π —Ä–∞–±–æ—Ç–∞—é—â–∏–π Discord –±–æ—Ç, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –≥–∏–ª—å–¥–∏—è–º–∏, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∏—Å—Ç–µ–º–∞ —è–∑—ã–∫–æ–≤.

2.  üíæ **0.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –°–£–ë–î –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ë–î —Å Guild ID.**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –°–£–ë–î (PostgreSQL/MySQL) –∏ ORM. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î. **–ö—Ä–∏—Ç–∏—á–Ω–æ: –í—Å–µ –º–æ–¥–µ–ª–∏, —Ö—Ä–∞–Ω—è—â–∏–µ –∏–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–∏–ª—å–¥–∏–∏, –î–û–õ–ñ–ù–´ –í–ö–õ–Æ–ß–ê–¢–¨ –ø–æ–ª–µ `guild_id` (BIGINT, Indexed) –∫–∞–∫ —á–∞—Å—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏–ª–∏ FK –∫ `GuildConfig`).** (–î–µ—Ç–∞–ª–∏ –ø–æ–ª–µ–π —Å–º. –≤ –æ–ø–∏—Å–∞–Ω–∏—è—Ö –∑–∞–¥–∞—á, –≥–¥–µ —ç—Ç–∏ –º–æ–¥–µ–ª–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è: Player, Location, WorldState, Party, GeneratedNpc, GeneratedFaction, GeneratedQuest, Item, Inventory, Log, Relationship, PlayerNpcMemory, RuleConfig, Ability, Skill, Status, ItemProperty, Questline, QuestStep, MobileGroup, CraftingRecipe). **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è - JSONB (`_i18n`).**
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `GuildConfig`: id (PK, BIGINT - ID —Å–∞–º–æ–π Discord –≥–∏–ª—å–¥–∏–∏), master_channel_id (BIGINT), system_channel_id (BIGINT), notification_channel_id (BIGINT, –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏/–∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö), main_language (TEXT).
    *   –ù–∞—Å—Ç—Ä–æ–π—Ç–µ ORM –∏ –º–∏–≥—Ä–∞—Ü–∏–∏.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –°—Ö–µ–º–∞ –ë–î –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –≥–∏–ª—å–¥–∏—è–º –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∏–≥—Ä–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –º–Ω–æ–≥–æ—è–∑—ã—á–∏–µ–º.

3.  üîß **0.3 –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ë–î –∏ –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–æ–Ω—Ñ–∏–≥—É –ø—Ä–∞–≤–∏–ª (Guild-Aware).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –æ–ø–µ—Ä–∏—Ä—É—é—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥–∏–ª—å–¥–∏–∏.
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏—è–º–∏ ORM (`get_db_session`). **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¢–†–ê–ù–ó–ê–ö–¶–ò–Ø–ú–ò ORM (@transactional(guild_id)). –≠—Ç–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –î–û–õ–ñ–ù–´ –æ–ø–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û –° –î–ê–ù–ù–´–ú–ò –í–ù–£–¢–†–ò –£–ö–ê–ó–ê–ù–ù–û–ì–û `guild_id`.**
    *   **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—ã CRUD (`get_entity_by_id`, `create_entity`, `update_entity`, `delete_entity`) –¥–ª—è –í–°–ï–• –º–æ–¥–µ–ª–µ–π.** –≠—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã –î–û–õ–ñ–ù–´ –ø—Ä–∏–Ω–∏–º–∞—Ç—å `guild_id` –∫–∞–∫ –ü–ï–†–í–´–ô –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –¥–æ–±–∞–≤–ª—è—Ç—å —É—Å–ª–æ–≤–∏–µ `WHERE guild_id = :guild_id` –≤ –∑–∞–ø—Ä–æ—Å—ã.
    *   **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É `load_rules_config(guild_id: int) -> dict`**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ `RuleConfig` (0.2) *–¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥–∏–ª—å–¥–∏–∏* –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç —Å–ª–æ–≤–∞—Ä—å –ø—Ä–∞–≤–∏–ª. –ö—ç—à–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç —Å–ª–æ–≤–∞—Ä—å **per-guild** –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±–æ—Ç–∞.
    *   **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É `get_rule(guild_id: int, key: str) -> Any`**: –ü–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∞–≤–∏–ª–∞ –ò–ó –ö–≠–®–ê *–¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥–∏–ª—å–¥–∏–∏* –ø–æ –∫–ª—é—á—É. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
    *   **–†–µ–∞–ª–∏–∑—É–π—Ç–µ —É—Ç–∏–ª–∏—Ç—É `update_rule_config(guild_id: int, key: str, value: Any)`**: –û–±–Ω–æ–≤–ª—è–µ—Ç RuleConfig –≤ –ë–î *–¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –≥–∏–ª—å–≥–∏–∏*. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à –ø—Ä–∞–≤–∏–ª –¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏ (`load_rules_config`).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ –≥–∏–ª—å–¥–∏—è–º) —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –ë–î –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

---

üåç **–§–∞–∑–∞ 1: –ò–≥—Ä–æ–≤–æ–π –ú–∏—Ä (Static & Generated)**

4.  üåç **1.1 –ú–æ–¥–µ–ª—å –õ–æ–∫–∞—Ü–∏–∏ (i18n, Guild-Scoped).** (0.2)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –ª–æ–∫–∞—Ü–∏–∏ –≤ –ë–î, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ –≥–∏–ª—å–¥–∏–∏, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–µ–π. –≠—Ç–∞ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, —Ç–∞–∫ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –ª–æ–∫–∞—Ü–∏–∏.
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Location` (0.2) —Å –ø–æ–ª—è–º–∏: id (PK, INTEGER), **guild_id (BIGINT, Indexed, FK to GuildConfig)**, static_id (TEXT, —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –≥–∏–ª—å–¥–∏–∏), name_i18n (JSONB - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏), descriptions_i18n (JSONB - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è), type (TEXT enum), coordinates_json (JSONB), **neighbor_locations_json (JSONB - —Å–ø–∏—Å–æ–∫ {location_id: —Å–≤—è–∑—å_—Ç–∏–ø_i18n})**, **generated_details_json (JSONB - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏)**, **ai_metadata_json (JSONB - –¥–ª—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)**.
    *   –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ë–î —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–∏ `on_guild_join` (0.1). –õ–æ—Ä –ú–∏—Ä–∞ —Ç–∞–∫–∂–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ WorldState –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ), –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –≥–∏–ª—å–¥–∏–∏.
    *   –£—Ç–∏–ª–∏—Ç—ã `get_location(guild_id, location_id)`, `get_static_location_id(guild_id, static_id)`. –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –æ–ø–∏—Å–∞–Ω–∏—è –ª–æ–∫–∞—Ü–∏–∏/–ª–æ—Ä–∞ (–∏—Å–ø–æ–ª—å–∑—É—è `_i18n` –ø–æ–ª—è –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ —è–∑—ã–∫–∏ 0.1).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–æ–¥–µ–ª—å Location –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã.

5.  üåç **1.2 –°–∏—Å—Ç–µ–º–∞ –∏–≥—Ä–æ–∫–æ–≤ –∏ –≥—Ä—É–ø–ø (ORM, Commands, Guild-Scoped).** (0.2, 0.3, 0.1)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞–º–∏ –∏ –ø–∞—Ä—Ç–∏—è–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –≥–∏–ª—å–¥–∏–∏.
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Player` (0.2/7). –ü–æ–ª—è: id (PK, INTEGER), **guild_id (BIGINT, Indexed)**, discord_id (BIGINT, Indexed), name (TEXT), current_location_id (INTEGER FK), **selected_language (TEXT)**, xp (INT), level (INT), unspent_xp (INT), gold (INT), **current_status (TEXT - enum)**, **collected_actions_json (JSONB)**, current_party_id (INTEGER FK Nullable). **(–°–æ—Å—Ç–∞–≤–Ω–æ–π Unique Index: guild_id, discord_id)**.
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Party` (0.2). –ü–æ–ª—è: id (PK, INTEGER), **guild_id (BIGINT, Indexed)**, name (TEXT), player_ids_json (JSONB), current_location_id (INTEGER FK), **turn_status (TEXT - enum)**.
    *   –ö–æ–º–∞–Ω–¥–∞ `/start`: –ü–æ–ª—É—á–∏—Ç—å `guild_id` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∫–æ–º–∞–Ω–¥—ã Discord. –°–æ–∑–¥–∞—Ç—å `Player` —Å —ç—Ç–∏–º `guild_id` —á–µ—Ä–µ–∑ —É—Ç–∏–ª–∏—Ç—ã 0.3. –ü—Ä–∏—Å–≤–æ–∏—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—É—é –ª–æ–∫–∞—Ü–∏—é (—á–µ—Ä–µ–∑ 4). –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Å—Ç–∞—Ç—ã, XP, —É—Ä–æ–≤–µ–Ω—å, —Å—Ç–∞—Ç—É—Å '–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ'.
    *   –ö–æ–º–∞–Ω–¥—ã `/party create/join/leave/disband`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `Party` **–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≥–∏–ª—å–¥–∏–∏**. –í—Å–µ –∑–∞–≥—Ä—É–∑–∫–∏/–∏–∑–º–µ–Ω–µ–Ω–∏—è Player/Party –° –£–ß–ï–¢–û–ú `guild_id` (0.3).
    *   –£—Ç–∏–ª–∏—Ç—ã `get_player(guild_id, player_id)`, `get_party(guild_id, party_id)`, `get_players_in_location(guild_id, location_id)`.

6.  üåç **1.3 –õ–æ–≥–∏–∫–∞ –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (Player/Party, Guild-Scoped).** (4, 5, 0.3, 14)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ö–∞–Ω–∏–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏ –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –≥–∏–ª—å–¥–∏–∏.
    *   API —Ñ—É–Ω–∫—Ü–∏—è `handle_move_action(guild_id: int, player_id: int, target_location_identifier: str)`. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç Player (—Å `guild_id`). –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é –∏ target_location (4.1) –° –£–ß–ï–¢–û–ú `guild_id`.
    *   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∏ –ª–æ–∫–∞—Ü–∏–π (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ 4.1 `static_connections_json` –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ `Location.neighbor_locations_json` 4.1).
    *   **–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –≤ –ø–∞—Ä—Ç–∏–∏: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–∞—Ä—Ç–∏–∏ (RuleConfig 13) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –≤ –ø–∞—Ä—Ç–∏–∏.
    *   **–í —Ä–∞–º–∫–∞—Ö –û–î–ù–û–ô –¢–†–ê–ù–ó–ê–ö–¶–ò–ò (0.3), –æ–ø–µ—Ä–∏—Ä—É—é—â–µ–π –¢–û–õ–¨–ö–û –° –î–ê–ù–ù–´–ú–ò –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò:** –û–±–Ω–æ–≤–ª—è–µ—Ç –ª–æ–∫–∞—Ü–∏—é Player (–∏ Party). –õ–æ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (19) –° –≠–¢–ò–ú `guild_id`.
    *   **–ü–æ—Å–ª–µ commit:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `on_enter_location(guild_id, entity_id, entity_type, target_location_id)` (14).
    *   *MVP:* –ü—Ä–∏–≤—è–∑–∞—Ç—å –∫ `/move`. NLU (10/12) –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `guild_id`.

---

üß† **–§–∞–∑–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AI - –Ø–¥—Ä–æ –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏**

7.  üß† **2.1 –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –í–°–ï–• —Å—Ö–µ–º –ë–î (i18n, Guild ID).** (0.2, 0.3)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö ORM —Å—Ö–µ–º (–ø–æ–ª–µ–π –∏ —Å–≤—è–∑–µ–π) –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π. **–ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å, —Ö—Ä–∞–Ω—è—â–∞—è –∏–≥—Ä–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –ø–æ–ª–µ `guild_id`**. –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è - JSONB (`_i18n`).
    *   –í–∫–ª—é—á–∞—è –º–æ–¥–µ–ª–∏: `GeneratedLocation` (—Ä–∞—Å—à–∏—Ä—è–µ—Ç Location 4.1?), `GeneratedNpc`, `GeneratedFaction`, `GeneratedQuest`, `Item`, `Inventory`, `Log`, `Relationship`, `PlayerNpcMemory`, `Ability`, `Skill`, `Status`, `ItemProperty`, `Questline`, `QuestStep`, `MobileGroup`, `CraftingRecipe`. **–í—Å–µ —ç—Ç–∏ –º–æ–¥–µ–ª–∏ –î–û–õ–ñ–ù–´ –í–ö–õ–Æ–ß–ê–¢–¨ `guild_id` (BIGINT, Indexed) –∫–∞–∫ —á–∞—Å—Ç—å –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞, –∏ –∫–∞–∫ Foreign Key –∫ `GuildConfig` (0.2).**

8.  üß† **2.2 –ú–æ–¥—É–ª—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø—Ä–æ–º–ø—Ç–∞ AI.** (1, 4, 7, 13, 14, 30, 36, 37, 38, 39, 40)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–∏—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–∏–ª—å–¥–∏–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ AI –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
    *   API: `prepare_ai_prompt(guild_id: int, location_id: int, player_id: Optional[int] = None, party_id: Optional[int] = None) -> str`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.**
    *   –°–æ–±–∏—Ä–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç (WS 36, –æ—Ç–Ω–æ—à–µ–Ω–∏—è 30/31/32, –∫–≤–µ—Å—Ç—ã 35/36, –ª–æ—Ä 4, —É—Ä–æ–≤–µ–Ω—å –≥—Ä—É–ø–ø—ã 5) **–í–°–ï –î–ê–ù–ù–´–ï –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. **–í–∫–ª—é—á–∞–µ—Ç "—Å–ª–æ–≤–∞—Ä—å" –∏–≥—Ä–æ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ (—Å—Ç–∞—Ç—ã, –Ω–∞–≤—ã–∫–∏, —Å—É—â–Ω–æ—Å—Ç–∏) –ò–ó –ë–î –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (14/13/30/36/37) –∫–∞–∫ API –¥–ª—è AI.**
    *   –ó–∞–ø—Ä–æ—Å: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π (NPC, –ö–≤–µ—Å—Ç—ã, –ü—Ä–µ–¥–º–µ—Ç—ã, –õ–æ–∫–∞—Ü–∏–∏, –°–æ–±—ã—Ç–∏—è) **—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª–∞–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç—ã –ù–ê –û–°–ù–û–í–ù–û–ú –Ø–ó–´–ö–ï –ë–û–¢–ê –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (1) –ò –Ω–∞ –ê–ù–ì–õ–ò–ô–°–ö–û–ú**, –≤ —Ñ–æ—Ä–º–∞—Ç–µ `_i18n JSONB`.

9.  üß† **2.3 –ú–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI.** (7, 13, 14, 30, 37, 39, 18, 16)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ü–∞—Ä—Å–∏–Ω–≥ –∏ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI.
    *   API: `parse_and_validate_ai_response(raw_ai_output_text: str, guild_id: int) -> ParsedAiData | ValidationError`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.**
    *   –ü–∞—Ä—Å–∏–Ω–≥ JSON. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø–æ —Å—Ö–µ–º–µ 7).**
    *   **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/14/30/37/39/40) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞–º –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É (–¥–∏–∞–ø–∞–∑–æ–Ω—ã —Å—Ç–∞—Ç–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–≤–µ—Å—Ç–∞, —Ü–µ–Ω—ã, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å), **–Ω–∞–ª–∏—á–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –æ–±–æ–∏—Ö –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–∞—Ö –≤ `_i18n` –ø–æ–ª—è—Ö.** –ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è, –ø–æ–º–µ—Ç–∫–∞ –ø—Ä–æ–±–ª–µ–º.

10. üß† **2.6 –õ–æ–≥–∏–∫–∞ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –ú–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.** (7, 14, 15, 16, 17, 19, 41, OpenAI API, 0.3, 1, 3, 12, 13, 21)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å —Ä—É—á–Ω—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –ú–∞—Å—Ç–µ—Ä–∞.
    *   –§—É–Ω–∫—Ü–∏—è `trigger_location_generation(guild_id: int, ...)`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.**
    *   –í—ã–∑–æ–≤ 16 -> API -> 17.
    *   **Pending –º–æ–¥–µ—Ä–∞—Ü–∏–∏:** –ï—Å–ª–∏ 17 –≤–∞–ª–∏–¥–Ω–æ, —Å–æ–∑–¥–∞—Ç—å `PendingGeneration` –∑–∞–ø–∏—Å—å **–° `guild_id`**. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ú–∞—Å—Ç–µ—Ä—É (41) –í –ö–ê–ù–ê–õ –£–í–ï–î–û–ú–õ–ï–ù–ò–ô **–≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. –°—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞(–æ–≤) '–æ–∂–∏–¥–∞–Ω–∏–µ_–º–æ–¥–µ—Ä–∞—Ü–∏–∏' **–í –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**.
    *   **API –ú–∞—Å—Ç–µ—Ä–∞ (41) –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏:** `/master review_ai`, `/master approve_ai`, `/master edit_ai`, `/master reject_ai`. **–û–ø–µ—Ä–∏—Ä—É—é—Ç –∑–∞–ø–∏—Å—è–º–∏ PendingGeneration –ü–û `guild_id`.** –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `_i18n` –ø–æ–ª–µ–π.
    *   **Worker —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç `PendingGeneration`. –ü—Ä–∏ 'approved', **–∫–æ–ø–∏—Ä—É–µ—Ç `guild_id` –≤ –ö–ê–ñ–î–£–Æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—É—é —Å—É—â–Ω–æ—Å—Ç—å** –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î (7, 14 –∏ –¥—Ä.) –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ **–¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `on_enter_location(guild_id, ...)` (14).

---

üé≤ **–§–∞–∑–∞ 6: –°–∏—Å—Ç–µ–º—ã –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –î–µ–π—Å—Ç–≤–∏–π (Core Mechanics)**

11. üé≤ **6.3.1 –ú–æ–¥—É–ª—å –ë—Ä–æ—Å–∫–∞ –ö—É–±–∏–∫–æ–≤ (Dice Roller).** (–ù–µ—Ç)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –∏ —Ñ—É–Ω–∫—Ü–∏—é –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–æ–≤. –ù–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≥–∏–ª—å–¥–∏–∏.
    *   API: `roll_dice(dice_string: str) -> Tuple[int, List[int]]`.

12. üé≤ **6.3.2 –ú–æ–¥—É–ª—å –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ü—Ä–æ–≤–µ—Ä–æ–∫ (Check Resolver).** (14, 0.3, 11, 47)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –∏—Å—Ö–æ–¥–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º RuleConfig.
    *   API: `resolve_check(guild_id: int, check_type: str, entity_doing_check_id: int, entity_doing_check_type: str, target_entity_id: Optional[int] = None, target_entity_type: Optional[str] = None, difficulty_dc: Optional[int] = None, check_context: Optional[dict] = None) -> CheckResult`.
    *   **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.** –ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ **RuleConfig –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (0.3/13)**. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–µ–π **–ø–æ `guild_id` (0.3)**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Effective_Stats` (14) –î–õ–Ø –≠–¢–û–ô –°–£–©–ù–û–°–¢–ò –í –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò.
    *   –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º, –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞—Ç—ã, –Ω–∞–≤—ã–∫–∏ (14), —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É (15), —Å—Ç–∞—Ç—É—Å—ã (14), –æ—Ç–Ω–æ—à–µ–Ω–∏—è (31), –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
    *   –í—ã–∑—ã–≤–∞–µ—Ç 11 (`roll_dice`). –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏—Å—Ö–æ–¥ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç vs DC/vs_result).
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ò –æ–±—ä–µ–∫—Ç —Å –¥–µ—Ç–∞–ª—è–º–∏ (–¥–ª—è –ª–æ–≥–∞ 19, —Ñ–∏–¥–±–µ–∫–∞ 47).

13. ‚öôÔ∏è **6.10 –ú–æ–¥—É–ª—å –ü–∞—Ä—Å–∏–Ω–≥–∞ –∏ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –î–µ–π—Å—Ç–≤–∏–π (NLU & Intent/Entity).** (1, 4, 7, 14, 0.2, 0.3, **–í—ã–±–æ—Ä NLU Libs**, **Guild-Scoped Dictionary**)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–Ω–∏–º–∞–µ—Ç –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –≤–≤–æ–¥ –∏–≥—Ä–æ–∫–∞ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –µ–≥–æ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∏ —Ü–µ–ª–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –µ–≥–æ –≥–∏–ª—å–¥–∏–∏.
    *   Async Listener –¥–ª—è `on_message(message)`. –ü–æ–ª—É—á–∞–µ—Ç `guild_id`. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç NLU –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ —Å–ª–æ–≤–∞—Ä—å —Å—É—â–Ω–æ—Å—Ç–µ–π **–¢–û–õ–¨–ö–û –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç Action (JSON) –≤ `player.collected_actions_json` (0.2) **–¥–ª—è —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**.

14. ‚öôÔ∏è **6.12 –°–∏—Å—Ç–µ–º–∞ –û—á–µ—Ä–µ–¥–∏ –•–æ–¥–æ–≤ (Turn Controller) - Per-Guild Processing.** (1, 2, 13, 21, 1.3, 19, 11.3, 25, 35, 15, 36, **Per-Guild Async Workers/Queue Management**)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–º —Ç–µ—á–µ–Ω–∏–µ–º –∏–≥—Ä—ã –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≥–∏–ª—å–¥–∏–∏.
    *   –ú–æ–¥–µ–ª–∏ `Player` –∏ `Party` —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º–∏ –∫ –≥–∏–ª—å–¥–∏–∏ (0.2/1.2).
    *   Async Listener –¥–ª—è `/end_turn`/`/end_party_turn`. –ü–æ–ª—É—á–∞–µ—Ç `guild_id`.
    *   –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞(–æ–≤) **–≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏** –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (0.3).
    *   –ï—Å–ª–∏ —É—Å–ª–æ–≤–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ö–æ–¥–∞ –≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å(—ã) –Ω–∞ '–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è' **–≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**. **–ó–∞–ø—É—Å–∫–∞–µ—Ç async worker –¥–ª—è –ú–æ–¥—É–ª—è –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π (15), –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É `guild_id`.**

15. ‚öôÔ∏è **6.11 –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö –î–µ–π—Å—Ç–≤–∏–π (Turn Processor) - Guild-Scoped Execution.** (14, 13, 14, 0.3, 19, 47, 21, 36, 38, 40, 1.3, 25, 15, 35, **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –†–∞–∑—Ä–µ—à–µ–Ω–∏—è, –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ú–∞—Å—Ç–µ—Ä–∞ 41, –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ 0.3**)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –û—Å–Ω–æ–≤–Ω–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ö–æ–¥–∞ –≤ –æ–¥–Ω–æ–π –≥–∏–ª—å–¥–∏–∏. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∏–≥—Ä–æ–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏—è, —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–≥—Ä–æ–≤—ã–µ –º–æ–¥—É–ª–∏.
    *   Async Worker: **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`** –∏ —Å–ø–∏—Å–æ–∫ player_id/party_id –æ—Ç 14.
    *   **–í–°–ï –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ (–∑–∞–≥—Ä—É–∑–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) –î–û–õ–ñ–ù–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –ü–ï–†–ï–î–ê–ù–ù–´–ô `guild_id`.** –£—Ç–∏–ª–∏—Ç—ã 0.3, 14, 15, –∏ –≤—ã–∑–æ–≤—ã –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π –î–û–õ–ñ–ù–´ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –µ–≥–æ.
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç Players –ø–æ `guild_id`. –ò–∑–≤–ª–µ–∫–∞–µ—Ç actions, –æ—á–∏—â–∞–µ—Ç –ø–æ–ª–µ –≤ –ë–î.
    *   **–≠—Ç–∞–ø –ê–Ω–∞–ª–∏–∑–∞ –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ (–ü–∞—Ä—Ç–∏—è):** –ï—Å–ª–∏ –ø–∞—Ä—Ç–∏—è, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç actions –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º `conflict_resolution_rules` –ò–ó RULECONFIG –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (13/41).
        *   **–ï—Å–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ç—Ä–µ–±—É–µ—Ç –†–£–ß–ù–û–ô –º–æ–¥–µ—Ä–∞—Ü–∏–∏:** –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å pending –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ **–° `guild_id`**. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ú–∞—Å—Ç–µ—Ä—É (41) –í –ö–ê–ù–ê–õ **–≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. –ü–æ–º–µ—Ç–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∫–∞–∫ '–æ–∂–∏–¥–∞—é—â–∏–µ'. **–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É.**
    *   **–≠—Ç–∞–ø –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤:** –ï—Å–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç `auto_resolve == true`: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏ (RuleConfig 13/41), –≤—ã–∑–≤–∞—Ç—å 12 (–ú–æ–¥—É–ª—å –ü—Ä–æ–≤–µ—Ä–æ–∫, **–ø–µ—Ä–µ–¥–∞–≤–∞—è `guild_id`**). –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/44. –õ–æ–≥–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ (19).
    *   **–≠—Ç–∞–ø –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –î–µ–π—Å—Ç–≤–∏–π:** –ò—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ actions (–ø—Ä–æ–ø—É—Å–∫–∞—è –æ–∂–∏–¥–∞—é—â–∏–µ). –î–ª—è –∫–∞–∂–¥–æ–≥–æ action:
        *   **–ù–∞—á–∞—Ç—å –ê–¢–û–ú–ê–†–ù–£–Æ –¢–†–ê–ù–ó–ê–ö–¶–ò–Æ (0.3) –°–ö–û–£–ü–û–ú –ù–ê –≠–¢–£ –ì–ò–õ–¨–î–ò–Æ.**
        *   –ü–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º—É –º–æ–¥—É–ª—é (1.3 - Move, 21 - Look, 25 - Combat init/action, 15 - Inventory actions, 35 - Quest progress event, 16 - Intra-Location Interaction) **–ü–ï–†–ï–î–ê–í–ê–Ø –ï–ú–£ `guild_id` –∏ action data**. –ú–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É, –æ–±–Ω–æ–≤–ª—è–µ—Ç –ë–î. **Commit —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.**
    *   –°–±–æ—Ä —Ñ–∏–¥–±–µ–∫–∞ (47). –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19). –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ (47). –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤.

16. ‚öôÔ∏è **6.1.1 –ú–æ–¥—É–ª—å –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –í–Ω—É—Ç—Ä–∏ –õ–æ–∫–∞—Ü–∏–∏ (Intra-Location Interaction Handler).** (15, 4.1, 0.3, 15, 12, 21, 35, **–ü—Ä–∞–≤–∏–ª–∞ 13/41**)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –∏–ª–∏ —Å—É–±–ª–æ–∫–∞—Ü–∏–∏ –í–ù–£–¢–†–ò —Ç–µ–∫—É—â–µ–π –ª–æ–∫–∞—Ü–∏–∏.
    *   API —Ñ—É–Ω–∫—Ü–∏—è `handle_intra_location_action(guild_id: int, session: Session, player_id: int, action_data: dict) -> dict`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 15 (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –•–æ–¥–∞). –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id` –∏ —Å–µ—Å—Å–∏—é –ë–î –æ—Ç 15, –∞ —Ç–∞–∫–∂–µ action data (intent/entity) –æ—Ç NLU (13).**
    *   –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (move_to_sublocation, interact_with_object, examine_object) –Ω–∞ –æ—Å–Ω–æ–≤–µ `action_data['intent']`.
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç Player (—Å `guild_id`) –∏ –µ–≥–æ —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é (4.1). –ù–∞—Ö–æ–¥–∏—Ç —Ü–µ–ª–µ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å (—Å—É–±–ª–æ–∫–∞—Ü–∏—è/–æ–±—ä–µ–∫—Ç) –≤ –ë–î (4.1, 7, 14) **–ø–æ `guild_id`** –∏ Entity ID –∏–∑ action_data.
    *   **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ò–ó RULECONFIG (13/41) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å: —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ (12)? –ö–∞–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ WorldState 36, –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ 15, —Ç—Ä–∏–≥–≥–µ—Ä –∫–≤–µ—Å—Ç–∞ 35)?
    *   –í—ã–ø–æ–ª–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ "–ø–æ–∑–∏—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ –ª–æ–∫–∞—Ü–∏–∏" –∏–≥—Ä–æ–∫–∞ - –Ω–æ–≤–æ–µ –ø–æ–ª–µ –≤ Player?, –≤—ã–∑–æ–≤ 12 –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –≤—ã–∑–æ–≤—ã 15/35/36 –¥–ª—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π). **–í—Å–µ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (session).**
    *   –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19) –¥–ª—è –≥–∏–ª—å–¥–∏–∏. –§–∏–¥–±–µ–∫ (47).

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 7: –ù–∞—Ä—Ä–∞—Ç–∏–≤–Ω–∞—è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ñ—É—Ä–Ω–∞–ª –°–æ–±—ã—Ç–∏–π

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–µ–¥–µ–Ω–∏–µ–º –∂—É—Ä–Ω–∞–ª–∞ —Å–æ–±—ã—Ç–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –Ω–∞—Ä—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –≤–∫–ª—é—á–∞—è –æ—Ç—á–µ—Ç—ã –æ —Ö–æ–¥–µ.

---

**–ó–∞–¥–∞—á–∞ 17: üìö 7.1 –ú–æ–¥–µ–ª—å –ñ—É—Ä–Ω–∞–ª–∞ –°–æ–±—ã—Ç–∏–π (Story Log, i18n, Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –∂—É—Ä–Ω–∞–ª–∞ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞–∂–¥–æ–π –≥–∏–ª—å–¥–∏–∏. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –∏–∑ 5.1, –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞).**
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `StoryLog` (0.2/7). –ü–æ–ª—è: id (PK), **guild_id (BIGINT, Indexed, FK to GuildConfig)**, timestamp (DATETIME), location_id (INTEGER FK, Nullable), event_type (TEXT, ENUM?), **entity_ids_json (JSONB - {"players":[...], "npcs":[...], ...} - —Å—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ ID)**, **details_json (JSONB - –ø–æ–ª–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è, –¥–ª—è –æ—Ç–∫–∞—Ç–∞ 20 –∏ —Ñ–∏–¥–±–µ–∫–∞ 47).**
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ API `log_event(session: Session, guild_id: int, event_type: str, details_json: dict, player_id=None, party_id=None, location_id=None, entity_ids_json=None)`: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–∞–ø–∏—Å—å –≤ StoryLog **–≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (session)**, –° –£–ö–ê–ó–ê–ù–ò–ï–ú –≠–¢–û–ì–û `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏, –∏–∑–º–µ–Ω—è—é—â–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—è—â–∏–º–∏ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–æ–¥–µ–ª—å StoryLog –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞, API –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π –≤ —Ä–∞–º–∫–∞—Ö –≥–∏–ª—å–¥–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.

---

**–ó–∞–¥–∞—á–∞ 18: üìö 7.2 AI-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ù–∞—Ä—Ä–∞—Ç–∏–≤–∞ (Multilang).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –í—ã–∑–æ–≤ LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–æ–ª–µ–µ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –Ω–∞—Ä—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è, —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —á—Ç–æ-—Ç–æ).
*   API `generate_narrative(guild_id: int, context: dict) -> str`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è.**
*   –§–æ—Ä–º–∏—Ä—É–µ—Ç –ø—Ä–æ–º–ø—Ç LLM: –ö–æ–Ω—Ç–µ–∫—Å—Ç (—Å–æ–±—ã—Ç–∏–µ, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –ª–æ–∫–∞—Ü–∏—è, WorldState - **–≤—Å–µ –¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**). **–ü—Ä–æ—Å–∏—Ç LLM —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ù–ê –Ø–ó–´–ö–ï –ò–ì–†–û–ö–ê (0.1/0.2) –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–º —è–∑—ã–∫–µ –±–æ—Ç–∞ (–≥–∏–ª—å–¥–∏–∏ 1), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.**
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–∞—Ä—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É.

---

**–ó–∞–¥–∞—á–∞ 19: üìö 7.3 –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –•–æ–¥–æ–≤ –∏ –†–µ–ø–æ—Ä—Ç–æ–≤ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥—É–ª—å, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö (–∏–∑ StoryLog) –≤ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ –∏ –ú–∞—Å—Ç–µ—Ä–∞. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 6.7.1).**
*   API `format_log_entry(log_entry_details_json: dict, language: str) -> str`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON –¥–µ—Ç–∞–ª–∏ –ª–æ–≥–∞ (–∏–∑ StoryLog 17) –∏ —è–∑—ã–∫.** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `guild_id` –∏–∑ `details_json` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ i18n –Ω–∞–∑–≤–∞–Ω–∏–π —Å—É—â–Ω–æ—Å—Ç–µ–π (–∏–∑ –ë–î –ø–æ –∏—Ö ID –∏ `guild_id`) –∏ RuleConfig —Ç–µ—Ä–º–∏–Ω–æ–≤ (–∏–∑ –∫—ç—à–∞ 0.3) **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò** –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ.
*   API `format_turn_report(guild_id: int, log_entries: List[dict], player_id: int, language: str) -> str`. –°–æ–±–∏—Ä–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞ (17) –∑–∞ —Ö–æ–¥ **–¥–ª—è –≥–∏–ª—å–¥–∏–∏** (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ log_entries –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —è–≤–Ω–æ). –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∏—Ö, –∏—Å–ø–æ–ª—å–∑—É—è `format_log_entry`. **–û—Ç—á–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–∞ –µ–≥–æ —è–∑—ã–∫–µ (0.1/0.2).**
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–∏—Å—Ç–µ–º–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–æ–≤ –∏ —Ñ–∏–¥–±–µ–∫–∞, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∞—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 3: –ú–µ—Ö–∞–Ω–∏–∫–∞ –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏ –ü—Ä–æ–≤–µ—Ä–æ–∫

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π, —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –º–µ—Ö–∞–Ω–∏–∫–æ–π –ø—Ä–æ–≤–µ—Ä–æ–∫ –∞—Ç—Ä–∏–±—É—Ç–æ–≤/–Ω–∞–≤—ã–∫–æ–≤.

---

**–ó–∞–¥–∞—á–∞ 20: üß† 3.1 –ú–æ–¥–µ–ª—å –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (i18n, Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö.
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Ability` (0.2/7). –ü–æ–ª—è: id (PK), **guild_id (BIGINT, Indexed, Nullable? - –µ—Å–ª–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–π)**, static_id (TEXT, —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –≥–∏–ª—å–¥–∏–∏/–≥–ª–æ–±–∞–ª—å–Ω–æ), name_i18n (JSONB), description_i18n (JSONB), **properties_json (JSONB - —ç—Ñ—Ñ–µ–∫—Ç—ã, —Å—Ç–æ–∏–º–æ—Å—Ç—å, —Ç–∏–ø—ã –¥–∞–º–∞–≥–∞)**.
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–æ–¥–µ–ª—å Ability –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.

---

**–ó–∞–¥–∞—á–∞ 21: üß† 3.2 –ú–æ–¥–µ–ª—å –°–æ—Å—Ç–æ—è–Ω–∏—è –°—É—â–Ω–æ—Å—Ç–µ–π (Status Effects, i18n, Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (–±–∞—Ñ—Ñ—ã/–¥–µ–±–∞—Ñ—Ñ—ã) —Å—É—â–Ω–æ—Å—Ç–µ–π.
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Status` (0.2/7). –ü–æ–ª—è: id (PK), **guild_id (BIGINT, Indexed, Nullable?)**, static_id (TEXT, —É–Ω–∏–∫–∞–ª–µ–Ω), name_i18n (JSONB), description_i18n (JSONB), **properties_json (JSONB - –∫–∞–∫ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—Ç–∞—Ç—ã/–ø–æ–≤–µ–¥–µ–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)**.
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ú–æ–¥–µ–ª—å Status –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞.

---

**–ó–∞–¥–∞—á–∞ 22: üß† 3.3 API –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏ –Ω–∞–ª–æ–∂–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ –∏ –Ω–∞–ª–æ–∂–µ–Ω–∏—è/—Å–Ω—è—Ç–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π.
*   API —Ñ—É–Ω–∫—Ü–∏—è `activate_ability(guild_id: int, entity_id: int, entity_type: str, ability_id: int, target_ids: Optional[List[int]] = None) -> AbilityOutcomeDetails`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.**
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç Ability (20) –∏ Entity (1.2/5) **–ø–æ `guild_id`**. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–Ω–∞–ª–∏—á–∏–µ —É Entity), –∑–∞—Ç—Ä–∞—Ç—ã (—Ä–µ—Å—É—Ä—Å—ã Entity), –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ü–µ–ª–∏.
    *   –í—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ (–Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞, –Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è). **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ò–ó RULECONFIG –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (13/0.3) –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤ –∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.**
    *   –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ Entity (HP, —Ä–µ—Å—É—Ä—Å—ã, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏). **–í —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è (0.3).** –õ–æ–≥–≥–∏—Ä—É–µ—Ç (19) –° –≠–¢–ò–ú `guild_id`.
*   API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è/—Å–Ω—è—Ç–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π: `apply_status(guild_id: int, entity_id: int, status_id: int, duration: int, source_ability_id=None)`.
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ —Ä–∞–º–∫–∞—Ö –≥–∏–ª—å–¥–∏–∏.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 4: –ú–æ–¥–µ–ª—å –ú–∏—Ä–∞ –∏ –õ–æ–∫–∞—Ü–∏–π

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ª–æ–∫–∞—Ü–∏—è–º–∏ –∏ –∫–∞—Ä—Ç–æ–π –º–∏—Ä–∞.

---

**–ó–∞–¥–∞—á–∞ 23: üó∫Ô∏è 4.1 –ú–æ–¥–µ–ª—å –õ–æ–∫–∞—Ü–∏–∏ (i18n, Guild-Scoped).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 13 –¥–ª—è –ª—É—á—à–µ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏).** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –ª–æ–∫–∞—Ü–∏–∏ –≤ –ë–î, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ –≥–∏–ª—å–¥–∏–∏, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç–∏ –∏ —Å–≤—è–∑–µ–π. –≠—Ç–∞ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, —Ç–∞–∫ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –ª–æ–∫–∞—Ü–∏–∏. (–°–º. –æ–ø–∏—Å–∞–Ω–∏–µ –≤ –∑–∞–¥–∞—á–µ 4).

---

**–ó–∞–¥–∞—á–∞ 24: üó∫Ô∏è 4.2 –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –≥–∏–ª—å–¥–∏–∏ (Guild-Scoped).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö –ª–æ–∫–∞—Ü–∏–π AI –∏ –∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç—É –≥–∏–ª—å–¥–∏–∏, –∞ —Ç–∞–∫–∂–µ –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π.
    *   API —Ñ—É–Ω–∫—Ü–∏—è `generate_location(guild_id: int, ...)`: –í—ã–∑—ã–≤–∞–µ—Ç AI (16/17/10) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –ù–û–í–û–ô –ª–æ–∫–∞—Ü–∏–∏ (–∏–º—è, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–∏–ø, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Å–æ—Å–µ–¥–∏). **–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –≤ Location —Å —ç—Ç–∏–º `guild_id` –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.** –î–æ–±–∞–≤–ª—è–µ—Ç —Å–≤—è–∑–∏ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ª–æ–∫–∞—Ü–∏—è–º –≤ –ë–î (–æ–±–Ω–æ–≤–ª—è–µ—Ç `neighbor_locations_json` –≤ —Å–æ—Å–µ–¥—è—Ö). –õ–æ–≥–≥–∏—Ä—É–µ—Ç (19).
    *   API —Ñ—É–Ω–∫—Ü–∏—è `add_location(guild_id: int, data: dict)` (–¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞). `remove_location(guild_id: int, location_id: int)`. `connect_locations(guild_id: int, loc1_id: int, loc2_id: int, connection_type_i18n: dict)`.
    *   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–∞—Å—Ç–µ—Ä—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —ç—Ç–∏—Ö API (–Ω–∞–ø—Ä., `/master add_location`, `/master connect_locations`).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –°–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞—Ä—Ç–æ–π –≥–∏–ª—å–¥–∏–∏.

---

**–ó–∞–¥–∞—á–∞ 25: üó∫Ô∏è 4.3 –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏ (Guild-Scoped).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏ –º–µ–∂–¥—É –ª–æ–∫–∞—Ü–∏—è–º–∏. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 6. –ß–∞—Å—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å 1.3).**
    *   API —Ñ—É–Ω–∫—Ü–∏—è `handle_move_action(guild_id: int, session: Session, player_id: int, target_location_identifier: str) -> dict`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 15 (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π). –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id` –∏ —Å–µ—Å—Å–∏—é –ë–î.**
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç Player (—Å `guild_id`) –∏ –µ–≥–æ —Ç–µ–∫—É—â—É—é –ª–æ–∫–∞—Ü–∏—é (23). –°–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç `target_location_identifier` —Å –∏–º–µ–Ω–µ–º/static_id –ª–æ–∫–∞—Ü–∏–π **–≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**.
    *   –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤—è–∑–∏ –ª–æ–∫–∞—Ü–∏–π (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ 4.1 –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ 23).
    *   **–ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –≤ –ø–∞—Ä—Ç–∏–∏: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ü–†–ê–í–ò–õ–ê –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø –ü–ê–†–¢–ò–ò (–∏–∑ RuleConfig 13/0.3) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò.**
    *   –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ: –û–±–Ω–æ–≤–ª—è–µ—Ç `current_location_id` –¥–ª—è Player (–∏ Party). –õ–æ–≥–≥–∏—Ä—É–µ—Ç (19) –° –≠–¢–ò–ú `guild_id`.
    *   **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è (–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –≤ 15):** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç `on_enter_location(guild_id, entity_id, entity_type, location_id)` (14).

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 5: –ë–æ–µ–≤–∞—è –°–∏—Å—Ç–µ–º–∞

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π –±–æ—è.

---

**–ó–∞–¥–∞—á–∞ 26: ‚öîÔ∏è 5.1 –ú–æ–¥–µ–ª—å –ë–æ—è –∏ –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±–æ—è –≤ –≥–∏–ª—å–¥–∏–∏.
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `CombatEncounter` (0.2/7). **–° –ø–æ–ª–µ–º `guild_id`.** –í–∫–ª—é—á–∞–µ—Ç: id (PK), location_id (INTEGER FK), status (TEXT enum), current_turn_entity_id (INT), turn_order_json (JSONB), **rules_config_snapshot_json (JSONB - —Å–ª–µ–ø–æ–∫ –ø—Ä–∞–≤–∏–ª –±–æ—è –∏–∑ RuleConfig –Ω–∞ –Ω–∞—á–∞–ª–æ –±–æ—è?)**, **participants_json (JSONB - {entity_id, entity_type, current_hp, ...})**, **combat_log_json (JSONB - –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π —ç—Ç–æ–≥–æ –±–æ—è)**.

---

**–ó–∞–¥–∞—á–∞ 27: ‚öîÔ∏è 5.2 –ú–æ–¥—É–ª—å –ë–æ–µ–≤–æ–≥–æ –î–≤–∏–∂–∫–∞.**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å —Ä–∞—Å—á–µ—Ç–∞ –∏—Å—Ö–æ–¥–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π –≤ –±–æ—é.
*   API `process_combat_action(guild_id: int, session: Session, combat_instance_id: int, actor_id: int, actor_type: str, action_data: dict) -> CombatActionResult`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id` –∏ —Å–µ—Å—Å–∏—é.**
*   **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 28 (–ë–æ–µ–≤–æ–π –¶–∏–∫–ª).**
*   –ó–∞–≥—Ä—É–∂–∞–µ—Ç CombatEncounter (24) –∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–ø–æ –∏—Ö ID –∏ —Ç–∏–ø—É) **–ø–æ `guild_id`** –∏–∑ –ë–î (1.2/5/14) —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `Effective_Stats` (14).
*   **–ü–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è (—Ñ–æ—Ä–º—É–ª—ã —É—Ä–æ–Ω–∞, –∫—Ä–∏—Ç—ã, —ç—Ñ—Ñ–µ–∫—Ç—ã —Å—Ç–∞—Ç—É—Å–æ–≤) –ò–ó `rules_config` –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (13/0.3/41), –∏–ª–∏ –∏–∑ `combat_instance.rules_config_snapshot_json` (24).**
*   **–ï—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏–µ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∞—Ç–∞–∫–∞, —Å–ø–∞—Å–±—Ä–æ—Å–æ–∫) -> –≤—ã–∑–æ–≤ 12 (–ú–æ–¥—É–ª—å –ü—Ä–æ–≤–µ—Ä–æ–∫) —Å `guild_id`.**
*   –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–∞—Å—á–µ—Ç—ã (—É—Ä–æ–Ω, —Å—Ç–∞—Ç—É—Å—ã, –∑–∞—Ç—Ä–∞—Ç—ã) **—Å—Ç—Ä–æ–≥–æ –ø–æ —Ñ–æ—Ä–º—É–ª–∞–º/–ø—Ä–∞–≤–∏–ª–∞–º**.
*   –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –±–æ—è (HP, —Ä–µ—Å—É—Ä—Å—ã, —Å—Ç–∞—Ç—É—Å—ã) –≤ –ë–î (14/15) —á–µ—Ä–µ–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é.
*   **–õ–æ–≥–≥–∏—Ä—É–µ—Ç (19) —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏—è, –≤–∫–ª—é—á–∞—è –¥–µ—Ç–∞–ª–∏ —Ä–∞—Å—á–µ—Ç–∞, –∏—Ç–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ (–∏–∑ 12).**
*   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç CombatActionResult (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏—è + –¥–µ—Ç–∞–ª–∏ –¥–ª—è –ª–æ–≥–∞ 19/—Ñ–∏–¥–±–µ–∫–∞ 47).
*   –†–µ–∑—É–ª—å—Ç–∞—Ç: –î–µ—Ç–∞–ª—å–Ω—ã–µ, –Ω–∞–¥–µ–∂–Ω—ã–µ –±–æ–µ–≤—ã–µ —Ä–∞—Å—á–µ—Ç—ã –ø–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ø—Ä–∞–≤–∏–ª–∞–º, —Å –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

---

**–ó–∞–¥–∞—á–∞ 28: ‚öîÔ∏è 5.3 –ú–æ–¥—É–ª—å –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ë–æ—è NPC (AI).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É, —É–ø—Ä–∞–≤–ª—è—é—â—É—é –¥–µ–π—Å—Ç–≤–∏—è–º–∏ NPC –≤ –±–æ—é.
*   API `get_npc_combat_action(guild_id: int, npc_id: int, combat_instance_id: int) -> dict`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 27 (–ë–æ–µ–≤–æ–π –¶–∏–∫–ª).**
*   –ó–∞–≥—Ä—É–∂–∞–µ—Ç NPC (1.2/5/14), —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–æ—è (24), —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –∏–≥—Ä–æ–∫–æ–≤/–¥—Ä—É–≥–∏—Ö NPC **–ø–æ `guild_id`**. –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è NPC (32) –∫ –∏–≥—Ä–æ–∫–∞–º/–ø–∞—Ä—Ç–∏–∏/–¥—Ä—É–≥–∏–º NPC.
*   **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ AI-–ø–æ–≤–µ–¥–µ–Ω–∏—è –ò–ó `rules_config` –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò (13/0.3/41):** –ö–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å —Ü–µ–ª–∏ (–∞–≥–≥—Ä–æ-—Å–∏—Å—Ç–µ–º–∞?), –∫–∞–∫ –≤—ã–±–∏—Ä–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–æ–≤ 14, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π 20, —Ä–µ—Å—É—Ä—Å–æ–≤), **–∫–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—Ö –¥–µ–π—Å—Ç–≤–∏—è (–≤–æ–∑–º–æ–∂–Ω–æ, –≤—ã–∑—ã–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∏ —á–µ—Ä–µ–∑ 12)**. –£—á–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ NPC (–∏–∑ AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 16/17) –∏ –∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π (35).
*   **–ü–æ–≤–µ–¥–µ–Ω–∏–µ AI –º–æ–∂–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤—Å—Ç—Ä–µ—á–∏ –∏–ª–∏ —É—Ä–æ–≤–Ω—è –ü–ê–†–¢–ò–ò –≤ –ª–æ–∫–∞—Ü–∏–∏ (—Å–º. 27).** –í–∫–ª—é—á–∞—è –≤—ã–±–æ—Ä *—Ç–∏–ø–∞* —Å—É—â–µ—Å—Ç–≤ –¥–ª—è —Å–ø–∞–≤–Ω–∞ –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏—Ö *—Ç–∞–∫—Ç–∏–∫–∏*.
*   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è (—Ñ–æ—Ä–º–∞—Ç –ø–æ–Ω—è—Ç–Ω—ã–π 27).

---

**–ó–∞–¥–∞—á–∞ 29: ‚öîÔ∏è 5.4 –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –ë–æ–µ–≤–æ–≥–æ –¶–∏–∫–ª–∞ (Multiplayer Combat State Machine).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–º –∏–ª–∏ —Ä–∞—É–Ω–¥–æ–≤—ã–º –±–æ–µ–º, –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É—è –¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤ (—á–µ—Ä–µ–∑ –ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ 21) –∏ AI NPC (—á–µ—Ä–µ–∑ 26), –≤—ã–ø–æ–ª–Ω—è—è —Ä–∞—Å—á–µ—Ç—ã (—á–µ—Ä–µ–∑ 25).
*   API `start_combat(guild_id: int, location_id: int, participant_ids: List[Tuple[int, str]]) -> CombatEncounter`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 21 (–ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π) –ø—Ä–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è "attack" –∏–ª–∏ –æ—Ç —Å–∏—Å—Ç–µ–º—ã (Global Entities 44, Quest 39).**
    *   **–í —Ä–∞–º–∫–∞—Ö –ê–¢–û–ú–ê–†–ù–û–ô –¢–†–ê–ù–ó–ê–ö–¶–ò–ò (0.3), –°–ö–û–£–ü–û–ú –ù–ê –≠–¢–£ –ì–ò–õ–¨–î–ò–ò:** –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å `CombatEncounter` (24) —Å —ç—Ç–∏–º `guild_id` –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ª–æ–∫–∞—Ü–∏—é. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ **–ø–æ `guild_id`** (1.2/5/14), –∑–∞–ø–æ–ª–Ω—è–µ—Ç `participants_json`. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—É (—á–µ—Ä–µ–∑ 12 –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41). –ö–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –±–æ—è –∏–∑ RuleConfig –≤ `rules_config_snapshot_json`. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ '–±–æ–π'. –õ–æ–≥–≥–∏—Ä—É–µ—Ç (19).
    *   –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π `CombatEncounter`.
*   API `process_combat_turn(guild_id: int, combat_id: int)`: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ú–æ–¥—É–ª–µ–º –•–æ–¥–∞ (14) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–¥–Ω–æ–≥–æ —Ö–æ–¥–∞ –±–æ—è.
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç –±–æ–π (24) –ø–æ `guild_id`. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞.
    *   –ï—Å–ª–∏ —Ö–æ–¥ –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏: –ú–æ–¥—É–ª—å –•–æ–¥–∞ (14/21) –æ–∂–∏–¥–∞–µ—Ç –≤–≤–æ–¥–∞ –∏–≥—Ä–æ–∫–∞, —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –±–æ–µ–≤–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (13/21) –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –≤ —ç—Ç–æ—Ç –º–æ–¥—É–ª—å (29). **–ï—Å–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø–∞—Ä—Ç–∏–∏, 21 —É–∂–µ –µ–≥–æ —Ä–∞–∑—Ä–µ—à–∏–ª.** –í—ã–∑—ã–≤–∞–µ—Ç 25 (–ë–æ–µ–≤–æ–π –î–≤–∏–∂–æ–∫) —Å `guild_id` –∏ –¥–µ–π—Å—Ç–≤–∏–µ–º.
    *   –ï—Å–ª–∏ —Ö–æ–¥ NPC: –í—ã–∑—ã–≤–∞–µ—Ç 26 (AI –°—Ç—Ä–∞—Ç–µ–≥–∏—è) —Å `guild_id` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è. –í—ã–∑—ã–≤–∞–µ—Ç 25 —Å —ç—Ç–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º.
    *   **–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –¥–µ–π—Å—Ç–≤–∏—è –≤ –±–æ—é:** –õ–æ–≥–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏—è (–∏–∑ 25) –≤ –æ–±—â–∏–π –ª–æ–≥ (19) –∏ –≤ –ª–æ–≥ –±–æ—è (24). –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≤ –ë–î (0.3/14/15) (—ç—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ 25).
    *   –í—ã–≤–æ–¥ —Ñ–∏–¥–±–µ–∫–∞ (47) –Ω–∞ —è–∑—ã–∫–µ –∏–≥—Ä–æ–∫–∞.
    *   –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–æ—è. –°–Ω—è—Ç–∏–µ —Å—Ç–∞—Ç—É—Å–∞ '–±–æ–π'.
    *   **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π –ó–∞–≤–µ—Ä—à–µ–Ω–∏—è –ë–æ—è:**
        *   XP: –í—ã–∑—ã–≤–∞–µ—Ç 30 (–°–∏—Å—Ç–µ–º–∞ XP). **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 –°–†–ï–î–ò –£–ß–ê–°–¢–ù–ò–ö–û–í –ë–û–Ø (–≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 13/41.**
        *   –õ—É—Ç: –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Item/ItemProperty 42, –ö–æ–Ω—Ç–µ–∫—Å—Ç 16) –∏–ª–∏ –±–µ—Ä–µ—Ç—Å—è –∏–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø–æ–≤–µ—Ä–∂–µ–Ω–Ω—ã—Ö NPC (15). **–†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –°–†–ï–î–ò –ü–û–ë–ï–î–ò–¢–ï–õ–ï–ô –í–ù–£–¢–†–ò –ü–ê–†–¢–ò–ò (–∏–ª–∏ –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ª–æ–∫–∞—Ü–∏—é) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41**. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - —Ç—Ä–∏–≥–≥–µ—Ä —Ä—É—á–Ω–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (47) –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–¥–∫–æ–≥–æ –ª—É—Ç–∞.
        *   WS/–û—Ç–Ω–æ—à–µ–Ω–∏—è: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ WorldState (36) / –û—Ç–Ω–æ—à–µ–Ω–∏–π (36) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 (–æ—Ç –∏–º–µ–Ω–∏ –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏, —É–±–∏–≤—à–µ–π –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–≤).
        *   –ü—Ä–æ–≥—Ä–µ—Å—Å –ö–≤–µ—Å—Ç–∞ (36/39): –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —à–∞–≥–æ–≤, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–æ–µ–º.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 13: –°–∏—Å—Ç–µ–º–∞ –û–ø—ã—Ç–∞ –∏ –†–∞–∑–≤–∏—Ç–∏—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–ø—ã—Ç–æ–º –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π, –ø–æ–≤—ã—à–µ–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.

---

**–ó–∞–¥–∞—á–∞ 30: ‚ö°Ô∏è 13.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã –û–ø—ã—Ç–∞ (–ü—Ä–∞–≤–∏–ª–∞).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–ª—É—á–µ–Ω–∏—è XP, –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—á–∫–æ–≤ –∑–∞–¥–∞–Ω—ã –≤ RuleConfig **–î–õ–Ø –ö–ê–ñ–î–û–ô –ì–ò–õ–¨–î–ò–ò**. (–°–º. —Å—Ç—Ä—É–∫—Ç—É—Ä—É RuleConfig –≤ 13).

---

**–ó–∞–¥–∞—á–∞ 31: ‚ö°Ô∏è 13.2 –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ –ü—Ä–æ–≥—Ä–µ—Å—Å –û–ø—ã—Ç–∞.**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è XP –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è.
    *   API `award_xp(guild_id: int, player_id/party_id, xp_amount, source_log_id)`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 27 (–ë–æ–π) –∏ 39 (–ö–≤–µ—Å—Ç).** **–†–∞—Å—á–µ—Ç –±–∞–∑–æ–≤–æ–≥–æ XP amount (–º–æ–∂–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ —É—Ä–æ–≤–Ω—é –∏–≥—Ä–æ–∫–æ–≤) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41.** **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –°–†–ï–î–ò –£–ß–ê–°–¢–ù–ò–ö–û–í —Å–æ–±—ã—Ç–∏—è (–∏–≥—Ä–æ–∫–æ–≤ –≤ –ø–∞—Ä—Ç–∏–∏/–ª–æ–∫–∞—Ü–∏–∏) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41.** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `player.XP` (1.2/5/0.2/0.3). –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19).
    *   –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è XP: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41, –¥–æ—Å—Ç–∏–≥ –ª–∏ –∏–≥—Ä–æ–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è. –ï—Å–ª–∏ –¥–∞: –û–±–Ω–æ–≤–∏—Ç—å `player.Level`, —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –∏ –Ω–∞—á–∏—Å–ª–∏—Ç—å `player.UnspentXP` (–æ—á–∫–∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤/–Ω–∞–≤—ã–∫–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º. –û–ø–æ–≤–µ—Å—Ç–∏—Ç—å –∏–≥—Ä–æ–∫–∞ (47).

---

**–ó–∞–¥–∞—á–∞ 32: ‚ö°Ô∏è 13.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ü–æ–≤—ã—à–µ–Ω–∏—è –£—Ä–æ–≤–Ω—è (Multy-i18n).**
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤ —É—Ä–æ–≤–Ω—è.
    *   –ö–æ–º–∞–Ω–¥—ã –∏–≥—Ä–æ–∫–∞ –ø–æ–ª—É—á–∞—é—Ç guild context. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ player —Å—Ç–∞—Ç–æ–≤/xp **–≤–Ω—É—Ç—Ä–∏ –≥–∏–ª—å–¥–∏–∏** (1.2/5/14). –ü–µ—Ä–µ—Å—á–µ—Ç Effective_Stats (14). –§–∏–¥–±–µ–∫ (47).

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 8: –§—Ä–∞–∫—Ü–∏–∏, –û—Ç–Ω–æ—à–µ–Ω–∏—è –∏ –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ú–µ—Ö–∞–Ω–∏–∫–∏

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ—Ä–∞–∫—Ü–∏—è–º–∏, –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ–º –Ω–∞ –≥–µ–π–º–ø–ª–µ–π.

---

**–ó–∞–¥–∞—á–∞ 33: üé≠ 8.1 –ú–æ–¥–µ–ª—å –§—Ä–∞–∫—Ü–∏–π (Guild-Scoped, i18n).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ñ—Ä–∞–∫—Ü–∏—è—Ö –≤ –≥–∏–ª—å–¥–∏–∏.
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `GeneratedFaction` (0.2/7). **–° –ø–æ–ª–µ–º `guild_id`.** –ü–æ–ª—è: id (PK), name_i18n (JSONB), ideology_i18n (JSONB), description_i18n (JSONB), resources_json (JSONB), leader_npc_id (INTEGER FK, Nullable), **ai_metadata_json (JSONB)**.

---

**–ó–∞–¥–∞—á–∞ 34: üé≠ 8.2 –ú–æ–¥–µ–ª—å –û—Ç–Ω–æ—à–µ–Ω–∏–π (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –≥–∏–ª—å–¥–∏–∏. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 8.1).**
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å `Relationship` (0.2/7). **–° –ø–æ–ª–µ–º `guild_id`.** –ü–æ–ª—è: id (PK), entity1_type (TEXT, ENUM Player/Party/Npc/Faction), entity1_id (INT), entity2_type (TEXT), entity2_id (INT), type (TEXT enum), value (INT), source_log_id (INTEGER FK, Nullable). **(–°–æ—Å—Ç–∞–≤–Ω–æ–π Unique Index: guild_id, entity1_type, entity1_id, entity2_type, entity2_id)**.

---

**–ó–∞–¥–∞—á–∞ 35: üé≠ 8.3 AI-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –§—Ä–∞–∫—Ü–∏–π –∏ –∏—Ö –û—Ç–Ω–æ—à–µ–Ω–∏–π (Multilang, Per Guild).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ—Ä–∞–∫—Ü–∏–∏ –∏ –∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è –¥–ª—è –≥–∏–ª—å–¥–∏–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 8.2).**
*   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 10 (–¶–∏–∫–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏). AI (16/17) –ø—Ä–æ—Å—è—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º (13/41) **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**, –≤–∫–ª—é—á–∞—è —Ñ—Ä–∞–∫—Ü–∏–∏ –∏ –∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è (–∫ –¥—Ä—É–≥–∏–º, –∫ –∏–≥—Ä–æ–∫—É/NPC/–ø–∞—Ä—Ç–∏—è–º). –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –º–æ–¥–µ–ª–∏ `GeneratedFaction` (33) –∏ `Relationship` (34) **–° –≠–¢–ò–ú `guild_id`**.

---

**–ó–∞–¥–∞—á–∞ 36: üé≠ 8.4 –ò–∑–º–µ–Ω–µ–Ω–∏–µ –û—Ç–Ω–æ—à–µ–Ω–∏–π —á–µ—Ä–µ–∑ –î–µ–π—Å—Ç–≤–∏—è (–ü–æ –ü—Ä–∞–≤–∏–ª–∞–º, Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç–Ω–æ—à–µ–Ω–∏–π –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –ú–∞—Å—Ç–µ—Ä–æ–º. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 8.3).**
*   API `update_relationship(guild_id: int, entity_doing_id, entity_doing_type, target_entity_id, target_entity_type, event_type: str, event_details_log_id: int)`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`.** **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ –ø—Ä–∏ —Å–æ–±—ã—Ç–∏—è—Ö, –º–µ–Ω—è—é—â–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è (–±–æ–π 27, –∫–≤–µ—Å—Ç 39, –¥–∏–∞–ª–æ–≥ 46, —Ç–æ—Ä–≥–æ–≤–ª—è 42, —Å–æ–±—ã—Ç–∏–µ –º–∏—Ä–∞ 44/40).**
*   **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ò–ó `rules_config` (13/0.3) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò** –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–∞–≤–∏–ª –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–æ `event_type`. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è (–ò–≥—Ä–æ–∫ vs –°—É—â–Ω–æ—Å—Ç—å –∏–ª–∏ –ü–∞—Ä—Ç–∏—è vs –°—É—â–Ω–æ—Å—Ç—å), –Ω–∞ –∫–∞–∫—É—é –≤–µ–ª–∏—á–∏–Ω—É (—Ñ–æ—Ä–º—É–ª–∞ –∏–∑ RuleConfig).
*   –ù–∞—Ö–æ–¥–∏—Ç/—Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å `Relationship` (34) **–í–ù–£–¢–†–ò –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. –û–±–Ω–æ–≤–ª—è–µ—Ç `value`. –õ–æ–≥–≥–∏—Ä—É–µ—Ç (19) –° –≠–¢–ò–ú `guild_id`.

---

**–ó–∞–¥–∞—á–∞ 37: üé≠ 8.5 –í–ª–∏—è–Ω–∏–µ –û—Ç–Ω–æ—à–µ–Ω–∏–π (–ü–æ–ª–Ω–æ–µ, –ü–æ –ü—Ä–∞–≤–∏–ª–∞–º, Multy-i18n).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏–∑ –ë–î (34) –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–ª–∏ —É—Å–ª–æ–≤–∏–π –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö –º–µ—Ö–∞–Ω–∏–∫–∞—Ö –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º –∏–≥—Ä—ã. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 8.5).**
*   –ú–æ–¥—É–ª–∏ (12, 28, 48, 42, 44, 21) **–¢–†–ï–ë–£–Æ–¢ `guild_id`**. –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–≤–æ–µ–π –ª–æ–≥–∏–∫–∏, –æ–Ω–∏:
    *   –ó–∞–≥—Ä—É–∂–∞—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è (34) –º–µ–∂–¥—É –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ **–ò–ó –ë–î, –°–¢–†–û–ì–û –ü–û `guild_id`**.
    *   **–ò—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª–∞ –ò–ó `rules_config` (13/0.3) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò** –æ —Ç–æ–º, –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è (–∏–∑ 34) —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç—Å—è –≤ —á–∏—Å–ª–æ–≤–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ 12), –º–Ω–æ–∂–∏—Ç–µ–ª—å (–¥–ª—è —Ü–µ–Ω 42), –∏–ª–∏ —É—Å–ª–æ–≤–∏–µ (–¥–ª—è –≤—ã–±–æ—Ä–∞ AI –¥–µ–π—Å—Ç–≤–∏—è 28, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∏–∞–ª–æ–≥–∞ 46).
*   –§–∏–¥–±–µ–∫ (49) –æ –≤–ª–∏—è–Ω–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —è–∑—ã–∫–µ –∏–≥—Ä–æ–∫–∞.

---

**–ó–∞–¥–∞—á–∞ 38: üé≠ 8.6 –°–ª–æ–∂–Ω—ã–µ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –û—Ç–Ω–æ—à–µ–Ω–∏—è –§—Ä–∞–∫—Ü–∏–π.**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π NPC –∫ –¥—Ä—É–≥–∏–º —Ñ—Ä–∞–∫—Ü–∏—è–º –∏–ª–∏ NPC –≤–Ω—É—Ç—Ä–∏ —Å–≤–æ–∏—Ö —Ñ—Ä–∞–∫—Ü–∏–π –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è. **(–ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 8.6).**
*   AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç (16) –∏ –ø–∞—Ä—Å–∏—Ç (17) —ç—Ç–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è. –•—Ä–∞–Ω—è—Ç—Å—è –≤ `Relationship` (34).
*   –ò—Ö –≤–ª–∏—è–Ω–∏–µ –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ RuleConfig (13/0.3) –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∞–≤–∏–ª. **–ü—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è NPC, –ø—Ä–æ–¥–∏–∫—Ç–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã–º–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏ (–ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ, –ø–æ–º–æ—â—å –∏–≥—Ä–æ–∫—É –∏–∑ –≤—Ä–∞–∂–¥–µ–±–Ω–æ–π —Ñ—Ä–∞–∫—Ü–∏–∏), –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è AI –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ (28) –∏ –ú–æ–¥—É–ª–µ–º –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π (21) / –î–∏–∞–ª–æ–≥–∞ (46)**.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 9: –î–µ—Ç–∞–ª—å–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ –ö–≤–µ—Å—Ç–æ–≤ —Å –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤ —Å —à–∞–≥–∞–º–∏, –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏ –∏ —Å–≤—è–∑—å—é —Å –¥—Ä—É–≥–∏–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏.

---

**–ó–∞–¥–∞—á–∞ 39: üìö 9.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ö–≤–µ—Å—Ç–æ–≤ –∏ –®–∞–≥–æ–≤ (Guild-Scoped, i18n).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥–µ–ª–∏ `GeneratedQuest`, `Questline`, `QuestStep`. **–î–û–õ–ñ–ù–´ –í–ö–õ–Æ–ß–ê–¢–¨ `guild_id`.** –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∏–≥—Ä–æ–∫—É –ò–õ–ò –ø–∞—Ä—Ç–∏–∏ **–≤ —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏**. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–≥–∞ —Å `required_mechanics_json`, `abstract_goal_json`, `consequences_json`. –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è `_i18n`.

---

**–ó–∞–¥–∞—á–∞ 40: üß¨ 9.2 AI-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–≤–µ—Å—Ç–æ–≤ (–ü–æ –ü—Ä–∞–≤–∏–ª–∞–º, Multilang, Per Guild).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–≤–µ—Å—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–∏–ª—å–¥–∏–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.
*   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 10 (–¶–∏–∫–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏). AI (16/17) –ø—Ä–æ—Å—è—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ 39 **–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º RuleConfig (13/0.3) –î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**, –≤–∫–ª—é—á–∞—è –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —à–∞–≥–æ–≤ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π. –ü—Ä–æ—Å–∏—Ç—å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å **`required_mechanics_json` –∏ `abstract_goal_json` (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41) –∏ `consequences_json` (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41)**. –¢–µ–∫—Å—Ç—ã - i18n. –°—É—â–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç `guild_id`.

---

**–ó–∞–¥–∞—á–∞ 41: üìö 9.3 –°–∏—Å—Ç–µ–º–∞ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ö–≤–µ—Å—Ç–æ–≤ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–≤–µ—Å—Ç–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π.
*   API `handle_player_event_for_quest(guild_id: int, player_id/party_id, log_entry_id: int)`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ò–ó 21 (–ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π - –ø–æ—Å–ª–µ –ö–ê–ñ–î–û–ì–û –¥–µ–π—Å—Ç–≤–∏—è) –ò –ò–ó 27 (–ë–æ–µ–≤–æ–π –¶–∏–∫–ª - –ø–æ—Å–ª–µ –±–æ—è). –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id` –∏ ID –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–µ–≥–æ —Å–æ–±—ã—Ç–∏—è.**
*   –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã (39) –¥–ª—è —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏ **–í –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**.
*   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–≤–µ—Å—Ç–∞: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–æ–±—ã—Ç–∏–µ (–∏–∑ –ª–æ–≥–∞ 17) **—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é `required_mechanics_json` —Ç–µ–∫—É—â–µ–≥–æ —à–∞–≥–∞** (–∏–∑ –ë–î 39), —Å—Ä–∞–≤–Ω–∏–≤–∞—è —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è –∏–∑ –ª–æ–≥–∞ –∏ –µ–≥–æ –¥–µ—Ç–∞–ª–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–µ—Ö–∞–Ω–∏–∫–∏ –≤ —à–∞–≥–µ, –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º RuleConfig (13/0.3/41).
*   –ï—Å–ª–∏ —à–∞–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω:
    *   –ï—Å–ª–∏ —à–∞–≥ `abstract_goal_json`: **–û—Ü–µ–Ω–∫–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ü–µ–ª–∏.** –°–æ–±—Ä–∞—Ç—å –ª–æ–≥ (17) –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏ (—Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –∫–≤–µ—Å—Ç–æ–º?). **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –í—ã–∑–≤–∞—Ç—å LLM (48) –¥–ª—è —Å—É–∂–¥–µ–Ω–∏—è**, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ–º–ø—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –≥–∏–ª—å–¥–∏–∏, –ª–æ–≥–æ–º, –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ü–µ–ª–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç LLM (–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ 13/41) –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ø–µ—Ö/–ø—Ä–æ–≤–∞–ª –æ—Ü–µ–Ω–∫–∏.
    *   –ï—Å–ª–∏ —à–∞–≥ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω (–∏ –æ—Ü–µ–Ω–∫–∞ —Ü–µ–ª–∏ —É—Å–ø–µ—à–Ω–∞): –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å —à–∞–≥–∞ –≤ –ë–î. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ü–û–°–õ–ï–î–°–¢–í–ò–Ø –®–ê–ì–ê (–∏–∑ `consequences_json` —à–∞–≥–∞ 39):** **–ü–∞—Ä—Å–∏—Ç—å `consequences_json` —à–∞–≥–∞.** –í—ã–∑–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥—É–ª–∏ (36 –¥–ª—è WorldState, 34 –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π, 29 –¥–ª—è XP, 15/42 –¥–ª—è –∑–æ–ª–æ—Ç–∞/–ø—Ä–µ–¥–º–µ—Ç–æ–≤) **–° –ü–ï–†–ï–î–ê–ß–ï–ô `guild_id` –ò –£–ö–ê–ó–ê–ù–ò–ï–ú –ò–ì–†–û–ö–ê –ò–õ–ò –ü–ê–†–¢–ò–ò –ö–ê–ö –ò–°–¢–û–ß–ù–ò–ö–ê –∏–∑–º–µ–Ω–µ–Ω–∏—è**. –í—Å–µ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º RuleConfig (13/0.3/41). –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19). –§–∏–¥–±–µ–∫ (47).
        *   –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –≤ –≤–µ—Ç–∫–µ. –ï—Å–ª–∏ –µ—Å—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π —à–∞–≥.
    *   –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥: –ü–æ–º–µ—Ç–∏—Ç—å –∫–≤–µ—Å—Ç –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ü–û–°–õ–ï–î–°–¢–í–ò–Ø –í–°–ï–ì–û –ö–í–ï–°–¢–ê (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —à–∞–≥—É). –ó–∞–ø—É—Å–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–≤–µ—Å—Ç–∞ –≤ –∞—Ä–∫–µ (39). –ù–∞–≥—Ä–∞–¥—ã (–ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è 13/41!).

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 10: –≠–∫–æ–Ω–æ–º–∏–∫–∞, –ü—Ä–µ–¥–º–µ—Ç—ã –∏ –¢–æ—Ä–≥–æ–≤–ª—è

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –º–µ—Ö–∞–Ω–∏–∫–æ–π —ç–∫–æ–Ω–æ–º–∏–∫–∏, –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∏ —Ç–æ—Ä–≥–æ–≤–ª–∏.

---

**–ó–∞–¥–∞—á–∞ 42: üí∞ 10.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö (Guild-Scoped, i18n).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥–µ–ª–∏ `Item`, `ItemProperty`. **–° –ø–æ–ª–µ–º `guild_id`.** `name_i18n`, `description_i18n`. –°–≤–æ–π—Å—Ç–≤–∞, –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å, –∫–∞—Ç–µ–≥–æ—Ä–∏—è. **–ü—Ä–∞–≤–∏–ª–∞ —ç–∫–æ–Ω–æ–º–∏–∫–∏ (`rules_config` 13/0.3/41).**

---

**–ó–∞–¥–∞—á–∞ 43: üí∞ 10.2 AI-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –°—É—â–Ω–æ—Å—Ç–µ–π (Per Guild).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–º–µ—Ç—ã –∏ NPC-—Ç–æ—Ä–≥–æ–≤—Ü–µ–≤ –¥–ª—è –≥–∏–ª—å–¥–∏–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.
*   –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 10 (–¶–∏–∫–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏). AI (16/17) –ø—Ä–æ—Å—è—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**, –≤–∫–ª—é—á–∞—è —Ç–æ—Ä–≥–æ–≤—Ü–µ–≤ (—Å —Ä–æ–ª—å—é, –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º), **–±–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã (—Ä–∞—Å—á–µ—Ç –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41), i18n —Ç–µ–∫—Å—Ç—ã**. –°—É—â–Ω–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç `guild_id`.

---

**–ó–∞–¥–∞—á–∞ 44: üí∞ 10.3 –°–∏—Å—Ç–µ–º–∞ –¢–æ—Ä–≥–æ–≤–ª–∏ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–µ–π.
*   API `handle_trade_action(guild_id: int, session: Session, player_id: int, target_npc_id: int, action_type: str, item_id: Optional[int] = None, count: Optional[int] = None)`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 21 (–ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π) –∏–ª–∏ 46 (–ú–æ–¥—É–ª—å –î–∏–∞–ª–æ–≥–∞). –¢–†–ï–ë–£–ï–¢ `guild_id` –∏ —Å–µ—Å—Å–∏—é.**
*   –†–µ–∞–ª–∏–∑—É–µ—Ç –ª–æ–≥–∏–∫—É: –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ "–∫—É–ø–∏—Ç—å"/"–ø—Ä–æ–¥–∞—Ç—å". **–¶–µ–Ω—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41/36**, —Å —É—á–µ—Ç–æ–º –æ—Ç–Ω–æ—à–µ–Ω–∏–π (30/31).
*   **–í —Ä–∞–º–∫–∞—Ö –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (session):** –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–¥–µ–ª–∫–∏, —Ä–∞—Å—á–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (–≤—ã–∑–æ–≤—ã 15 add/remove), –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–æ–ª–æ—Ç–∞ (15/0.2/0.3). **–ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞ (–Ω–∞–ø—Ä., –ø—Ä–µ–¥–º–µ—Ç —É–∂–µ –∫—É–ø–ª–µ–Ω –¥—Ä—É–≥–∏–º —á–ª–µ–Ω–æ–º –ø–∞—Ä—Ç–∏–∏) -> ROLLBACK (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤ 15).**
*   –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19) –¥–ª—è –≥–∏–ª—å–¥–∏–∏. –§–∏–¥–±–µ–∫ (47). **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –û—Ç–Ω–æ—à–µ–Ω–∏–π (30/31) –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 –∑–∞ —Å–¥–µ–ª–∫–∏.**

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 14: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –°—É—â–Ω–æ—Å—Ç–∏ –∏ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ú–∏—Ä

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Å—É—â–Ω–æ—Å—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–≤–∏–∂—É—Ç—Å—è –ø–æ –º–∏—Ä—É –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∏–≥—Ä–æ–∫–æ–≤ (–∫–∞—Ä–∞–≤–∞–Ω—ã, –ø–∞—Ç—Ä—É–ª–∏, —Å–ª—É—á–∞–π–Ω—ã–µ NPC), –∏ –∏—Ö —Å–∏–º—É–ª—è—Ü–∏–µ–π.

---

**–ó–∞–¥–∞—á–∞ 45: üåå 14.1 –ú–æ–¥–µ–ª–∏ –ì–ª–æ–±–∞–ª—å–Ω—ã—Ö –°—É—â–Ω–æ—Å—Ç–µ–π (Guild-Scoped, i18n).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥–µ–ª–∏ –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π, –¥–≤–∏–∂—É—â–∏—Ö—Å—è –ø–æ –º–∏—Ä—É –≤ —Ä–∞–º–∫–∞—Ö –∫–∞–∂–¥–æ–π –≥–∏–ª—å–¥–∏–∏.
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª–∏ `GlobalNpc`, `MobileGroup`, `GlobalEvent` (0.2/7). **–í—Å–µ —Å –ø–æ–ª–µ–º `guild_id`.** name_i18n. –ú–∞—Ä—à—Ä—É—Ç—ã, —Ü–µ–ª–∏, —Å–æ—Å—Ç–∞–≤.

---

**–ó–∞–¥–∞—á–∞ 46: üß¨ 14.2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ì–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –°—É—â–Ω–æ—Å—Ç—è–º–∏ (Per-Guild Iteration).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥—É–ª—å, —Å–∏–º—É–ª–∏—Ä—É—é—â–∏–π –∂–∏–∑–Ω—å –∏ –¥–≤–∏–∂–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –≥–∏–ª—å–¥–∏–∏.
*   Async Worker(s): **–ò—Ç–µ—Ä–∏—Ä—É–µ—Ç –ø–æ —Å–ø–∏—Å–∫—É –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –≥–∏–ª—å–¥–∏–π.** –î–ª—è –∫–∞–∂–¥–æ–π `guild_id`:
    *   –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ì–°, –ø—Ä–∞–≤–∏–ª–∞ (13/0.3/41) **–¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–≥–∏–∏**.
    *   –°–∏–º—É–ª–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ì–°.
    *   –°–∏–º—É–ª–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (—Å –¥—Ä—É–≥–∏–º–∏ –ì–°, —Å—É—â–Ω–æ—Å—Ç—è–º–∏, –∏–≥—Ä–æ–∫–∞–º–∏) **–í –ö–û–ù–¢–ï–ö–°–¢–ï –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**: **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è (12 –ø–æ 13/41), –†–µ–∞–∫—Ü–∏—è (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41 –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º 30/31/32), –¢—Ä–∏–≥–≥–µ—Ä—ã (–ë–æ–π 27, –î–∏–∞–ª–æ–≥ 46, –ö–≤–µ—Å—Ç 31, –°–æ–±—ã—Ç–∏–µ –º–∏—Ä–∞).**
    *   –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (19).

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 15: –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞ –∏–≥—Ä—ã.

---

**–ó–∞–¥–∞—á–∞ 47: üõ†Ô∏è 15.1 –°–∏—Å—Ç–µ–º–∞ –ú–∞—Å—Ç–µ—Ä—Å–∫–∏—Ö –ö–æ–º–∞–Ω–¥.**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥ Discord –¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–µ–π–º–ø–ª–µ–µ–º –∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –µ–≥–æ –≥–∏–ª—å–¥–∏–∏. **–ö–æ–º–∞–Ω–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç `guild_id` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤—ã–∑–æ–≤–∞.** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã–π –≤–≤–æ–¥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —è–∑—ã–∫–µ –ú–∞—Å—Ç–µ—Ä–∞.
*   **API –¥–ª—è CRUD –Ω–∞–¥ –í–°–ï–ú–ò –º–æ–¥–µ–ª—è–º–∏ –ë–î (7 –∏ –¥—Ä.).** **–¢—Ä–µ–±—É—é—Ç `guild_id`.**
*   **API –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ `RuleConfig` (0.2/7/13).** –ü–æ–∑–≤–æ–ª—è—é—Ç –ú–∞—Å—Ç–µ—Ä—É –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã –¥–ª—è —Å–≤–æ–µ–π –≥–∏–ª—å–¥–∏–∏.
*   –ö–æ–º–∞–Ω–¥—ã —Ä—É—á–Ω–æ–≥–æ —Ç—Ä–∏–≥–≥–µ—Ä–∞/–∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π **–æ–ø–µ—Ä–∏—Ä—É—é—Ç –í –ö–û–ù–¢–ï–ö–°–¢–ï `guild_id`**.
*   **API `/master resolve_conflict <id> <outcome>`:** –ü—Ä–∏–Ω–∏–º–∞–µ—Ç `guild_id`. –ù–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å pending –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (—Å–æ–∑–¥–∞–Ω–∞ –≤ 21) **–ø–æ `guild_id`**. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 'resolved' –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ú–æ–¥—É–ª—é –û–±—Ä–∞–±–æ—Ç–∫–∏ –•–æ–¥–∞ (21), –∫–æ—Ç–æ—Ä—ã–π –∂–¥–∞–ª —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É.

---

**–ó–∞–¥–∞—á–∞ 48: üõ†Ô∏è 15.2 –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ë–∞–ª–∞–Ω—Å–∞ –∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (Per Guild).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –°–∏–º—É–ª—è—Ç–æ—Ä—ã –∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≥–∏–ª—å–¥–∏–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º.
*   API —Å–∏–º—É–ª—è—Ü–∏–π (–ë–æ—è 27, –ü—Ä–æ–≤–µ—Ä–æ–∫ 12, –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ 21). **–¢–†–ï–ë–£–Æ–¢ `guild_id`.** –ò—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–∞–≤–∏–ª–∞ **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**.
*   –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (18): –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –±–∞–ª–∞–Ω—Å–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º 13/41.
*   –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–≤–æ–¥—è—Ç—Å—è **–Ω–∞ —è–∑—ã–∫–µ –ú–∞—Å—Ç–µ—Ä–∞ (49)**.

---

**–ó–∞–¥–∞—á–∞ 49: üõ†Ô∏è 15.3 –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ú–∞—Å—Ç–µ—Ä—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∏–≥—Ä—ã –∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤ –µ–≥–æ –≥–∏–ª—å–¥–∏–∏.
*   –ö–æ–º–∞–Ω–¥—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–õ–æ–≥ 17, WS 36, –ö–∞—Ä—Ç–∞ 4.1, –°—É—â–Ω–æ—Å—Ç–∏, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞): **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –ü–û `guild_id` –∫–æ–º–∞–Ω–¥—ã.** –ò—Å–ø–æ–ª—å–∑—É—é—Ç 47 –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–æ–≤ **–Ω–∞ —è–∑—ã–∫–µ –ú–∞—Å—Ç–µ—Ä–∞**.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ 11: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –î–∏–∞–ª–æ–≥–∏ –∏ –ü–∞–º—è—Ç—å NPC

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∏–∞–ª–æ–≥–∞–º–∏ NPC —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

---

**–ó–∞–¥–∞—á–∞ 50: üß† 11.1 –ú–æ–¥—É–ª—å –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –î–∏–∞–ª–æ–≥–∞ (LLM, Multy-i18n, –ü–æ –ü—Ä–∞–≤–∏–ª–∞–º).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–ø–ª–∏–∫ NPC –≤ –¥–∏–∞–ª–æ–≥–µ.
*   API `generate_npc_dialogue(guild_id: int, context: dict) -> str`. **–¢–†–ï–ë–£–ï–¢ `guild_id`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 46 (–ú–æ–¥—É–ª—å –î–∏–∞–ª–æ–≥–∞).**
*   –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞: WorldState (36), –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (40), –ø—Ä–æ—Ñ–∏–ª—å –ù–ü–¶ (–¥–∞–Ω–Ω—ã–µ 1.2/14, **–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è 30/31/32**, –ø–∞–º—è—Ç—å 52), –ø—Ä–æ—Ñ–∏–ª—å –ò–≥—Ä–æ–∫–∞/–ü–∞—Ä—Ç–∏–∏ (1.2/5), **–∫–æ–Ω—Ç–µ–∫—Å—Ç –ö–≤–µ—Å—Ç–∞ (39) –µ—Å–ª–∏ —Å–≤—è–∑–∞–Ω**, **–ø—Ä–∞–≤–∏–ª–∞ –¥–∏–∞–ª–æ–≥–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∏, –≤–ª–∏—è–Ω–∏–µ) –∏–∑ RuleConfig 13/0.3**. –¢–µ–∫—Å—Ç –≤–≤–æ–¥–∞ –ò–ì–†–û–ö–ê (–∏–∑ 46).
*   **–ó–∞–ø—Ä–æ—Å LLM:** –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–ª–∏–∫—É **–ù–ê –Ø–ó–´–ö–ï –ò–ì–†–û–ö–ê (0.1/0.2)**, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É, –æ—Ç–Ω–æ—à–µ–Ω–∏—é. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å i18n –Ω–∞–∑–≤–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π (–∏–∑ –ë–î 4/7/14/39) **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**.

---

**–ó–∞–¥–∞—á–∞ 51: üß† 11.2 –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –°—Ç–∞—Ç—É—Å –î–∏–∞–ª–æ–≥–∞ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –¥–∏–∞–ª–æ–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ –¥–ª—è –∏–≥—Ä–æ–∫–∞/–ø–∞—Ä—Ç–∏–∏.
*   API `start_dialogue(guild_id: int, player_id: int, target_npc_id: int)`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ 21 (–ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π) –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã.** –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞(–æ–≤) –Ω–∞ '–¥–∏–∞–ª–æ–≥' (0.2/1.1). –°–æ–∑–¥–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–ø–∏—Å—å –æ –¥–∏–∞–ª–æ–≥–µ.
*   API `handle_dialogue_input(guild_id: int, player_id: int, message_text: str) -> dict`. **–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ò–ó 21 (–ú–æ–¥—É–ª—å –û–±—Ä–∞–±–æ—Ç–∫–∏ –î–µ–π—Å—Ç–≤–∏–π) –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç –∏–≥—Ä–æ–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ '–¥–∏–∞–ª–æ–≥'.** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –∫–∞–∫ —Ä–µ–ø–ª–∏–∫—É, –≤—ã–∑—ã–≤–∞–µ—Ç 50 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ù–ü–¶.
*   API `end_dialogue(guild_id: int, player_id: int)`. –°–Ω–∏–º–∞–µ—Ç —Å—Ç–∞—Ç—É—Å '–¥–∏–∞–ª–æ–≥'.

---

**–ó–∞–¥–∞—á–∞ 52: üß† 11.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–∞–º—è—Ç—å—é NPC (Persistent, Per Guild).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è NPC —Å –∏–≥—Ä–æ–∫–∞–º–∏/–ø–∞—Ä—Ç–∏—è–º–∏. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –∏–∑ 11.4, –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∏–∑ 47.**
*   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–æ–¥–µ–ª–∏ `PlayerNpcMemory`/`PartyNpcMemory` (0.2/7). **–û–ë–ï –í–ö–õ–Æ–ß–ê–Æ–¢ `guild_id`.** –£—Ç–∏–ª–∏—Ç—ã —Ç—Ä–µ–±—É—é—Ç `guild_id`.
*   API `add_to_npc_memory(guild_id: int, player_id/party_id, npc_id, event_type: str, details: dict)`. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ –ø—Ä–∏ –∑–Ω–∞—á–∏–º—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö (–¥–∏–∞–ª–æ–≥ 46, –∫–≤–µ—Å—Ç 41, –±–æ–π 27, –∏–∑–º–µ–Ω–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è 31).
*   –£—Ç–∏–ª–∏—Ç–∞ `get_npc_memory(guild_id: int, player_id/party_id, npc_id) -> List[MemoryEntry]`: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞–º—è—Ç—å **–¥–ª—è —ç—Ç–æ–≥–æ –ù–ü–¶ –∏ –ò–≥—Ä–æ–∫–∞/–ü–∞—Ä—Ç–∏–∏ –í –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò**. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 50 (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ LLM).

---

**–ó–∞–¥–∞—á–∞ 53: üß† 11.4 NLU –∏ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ù–∞–º–µ—Ä–µ–Ω–∏–π –≤ –î–∏–∞–ª–æ–≥–µ (Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –∏–≥—Ä–æ–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –¥–∏–∞–ª–æ–≥–∞. **–≠—Ç–æ —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –º–æ–¥—É–ª—è 13 (NLU).**
*   –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞ '–¥–∏–∞–ª–æ–≥', NLU (13) **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç action –≤ `collected_actions_json`**, –∞ **–ø–µ—Ä–µ–¥–∞–µ—Ç –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –≤ –ú–æ–¥—É–ª—å –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –î–∏–∞–ª–æ–≥–æ–º (46) —á–µ—Ä–µ–∑ API `handle_dialogue_input` (46).** –ü—Ä–∏ —ç—Ç–æ–º NLU (13) –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç Intenta/Entity –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö 46.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –°–∏—Å—Ç–µ–º–∞ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –§–∏–¥–±–µ–∫–∞

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∏–¥–±–µ–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

**–ó–∞–¥–∞—á–∞ 54: ‚öôÔ∏è 6.7.1 –°–∏—Å—Ç–µ–º–∞ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –õ–æ–≥–∞ –∏ –§–∏–¥–±–µ–∫–∞ (Full, Multy-i18n, Guild-Scoped).**

*   –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ–±—ã—Ç–∏—è—Ö –≤ —á–∏—Ç–∞–±–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∏–¥–±–µ–∫. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –∏–∑ 49.**
*   API `format_log_entry(log_entry_details_json: dict, language: str) -> str`. **–ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON –¥–µ—Ç–∞–ª–∏ –ª–æ–≥–∞ (–∏–∑ StoryLog 17) –∏ —è–∑—ã–∫.** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `guild_id` –∏–∑ `details_json` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ i18n –Ω–∞–∑–≤–∞–Ω–∏–π —Å—É—â–Ω–æ—Å—Ç–µ–π –∏ RuleConfig —Ç–µ—Ä–º–∏–Ω–æ–≤ **–î–õ–Ø –≠–¢–û–ô –ì–ò–õ–¨–î–ò–ò** –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –Ω—É–∂–Ω–æ–º —è–∑—ã–∫–µ.
*   API `format_turn_report(guild_id: int, log_entries: List[dict], player_id: int, language: str) -> str`. –°–æ–±–∏—Ä–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞ (17) –∑–∞ —Ö–æ–¥ **–¥–ª—è –≥–∏–ª—å–¥–∏–∏**.

---

## –ë–ª–æ–∫ –ó–∞–¥–∞—á: –§–∞–∑–∞ UI (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–µ–± –∏–ª–∏ –¥–µ—Å–∫—Ç–æ–ø), –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç —É–¥–æ–±–Ω—ã–π –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ú–∞—Å—Ç–µ—Ä–∞ –∏–≥—Ä—ã –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∏–≥—Ä–æ–∫–æ–≤, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Å backend API.

---

**–ó–∞–¥–∞—á–∞ 55: üñ•Ô∏è UI.1 –í—ã–±–æ—Ä —Å—Ç–µ–∫–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã UI.** (–ù–µ—Ç)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –í—ã–±—Ä–∞—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫/–±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä., React, Vue –¥–ª—è –≤–µ–±–∞; Electron, PyQt –¥–ª—è –¥–µ—Å–∫—Ç–æ–ø–∞). –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É UI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ä–æ—É—Ç–∏–Ω–≥, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –í—ã–±—Ä–∞–Ω —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π, —Å–æ–∑–¥–∞–Ω –±–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å UI –ø—Ä–æ–µ–∫—Ç–∞.

---

**–ó–∞–¥–∞—á–∞ 56: üñ•Ô∏è UI.2 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã UI –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç 0.1 - Discord API/OAuth2?)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É UI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, –º–∞–∫–µ—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü). –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è UI (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Discord OAuth2 –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∞–∫–∫–∞—É–Ω—Ç—É –ú–∞—Å—Ç–µ—Ä–∞ Discord). **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä –≥–∏–ª—å–¥–∏–∏, —Å –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –ú–∞—Å—Ç–µ—Ä –≤ —Ç–µ–∫—É—â–µ–π UI —Å–µ—Å—Å–∏–∏.** UI –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å Guild ID –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤–æ –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ backend API.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –†–∞–±–æ—á–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—Ö–æ–¥–∞ –∏ –≤—ã–±–æ—Ä–∞ –≥–∏–ª—å–¥–∏–∏ –≤ UI, –≥–æ—Ç–æ–≤–∞—è –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü.

---

**–ó–∞–¥–∞—á–∞ 57: üñ•Ô∏è UI.3 UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 1.3)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–æ–≤ –∏–≥—Ä–æ–∫–æ–≤ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥–∏–ª—å–¥–∏–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É—è API 1.3 –Ω–∞ —á—Ç–µ–Ω–∏–µ). –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π Player –∏ GeneratedNpc (–≤—ã–∑—ã–≤–∞—è API 1.3 –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ). UI –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å i18n –ø–æ–ª—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞–º–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏ —á–µ—Ä–µ–∑ UI.

---

**–ó–∞–¥–∞—á–∞ 58: üñ•Ô∏è UI.4 UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ü—Ä–∞–≤–∏–ª (RuleConfig).** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 41)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã (RuleConfig) –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥–∏–ª—å–¥–∏–∏.
    *   –ó–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∞–≤–∏–ª (–∏–∑ 13/0.3) –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (—á–µ—Ä–µ–∑ API 41, –Ω–∞–ø—Ä., `/master view_rules` –∏–ª–∏ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π API –¥–ª—è RuleConfig). –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∞–≤–∏–ª –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON).
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–¥–æ–±–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ñ–æ—Ä–º—ã, –ø–æ–ª—è –≤–≤–æ–¥–∞, —Å–ª–∞–π–¥–µ—Ä—ã, –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏) –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–∞–≤–∏–ª (—á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, –±—É–ª–µ–≤—ã –∑–Ω–∞—á–µ–Ω–∏—è, JSON).
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤—ã–∑—ã–≤–∞—è API 41 –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ RuleConfig).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª –∏–≥—Ä—ã –ú–∞—Å—Ç–µ—Ä–æ–º.

---

**–ó–∞–¥–∞—á–∞ 59: üñ•Ô∏è UI.5 UI –¥–ª—è AI –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ú–æ–¥–µ—Ä–∞—Ü–∏–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 10)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π.
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–≤—ã–∑–æ–≤ API 10 `trigger_location_generation`). –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ª–æ–∫–∞—Ü–∏—è, —Ç–∏–ø).
    *   –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–ø–∏—Å–æ–∫ pending –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏ (—á–µ—Ä–µ–∑ API 41, –Ω–∞–ø—Ä., `/master review_ai`).
    *   –ü—Ä–∏ –≤—ã–±–æ—Ä–µ pending –∑–∞–ø—Ä–æ—Å–∞: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (NPC, –∫–≤–µ—Å—Ç—ã, –ø—Ä–µ–¥–º–µ—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏—è) –≤ —á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ (–∏—Å–ø–æ–ª—å–∑—É—è API 47 –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø–æ–ª—É—á–∞—è –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ 18 `ai_data_json`). –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–∏–∑ `issues_json` 18).
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ "–û–¥–æ–±—Ä–∏—Ç—å", "–û—Ç–∫–ª–æ–Ω–∏—Ç—å", "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" (–≤—ã–∑—ã–≤–∞—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ API 41). –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ–∑–≤–æ–ª—è—Ç—å –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ pending –∑–∞–ø—Ä–æ—Å–µ, –≤–∫–ª—é—á–∞—è `_i18n` —Ç–µ–∫—Å—Ç—ã.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

**–ó–∞–¥–∞—á–∞ 60: üñ•Ô∏è UI.6 UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ò–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º –∏ –ü—Ä–µ–¥–º–µ—Ç–∞–º–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 15, 42)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π/NPC –∏ –æ–±—â–µ–≥–æ —Å–ø–∏—Å–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –≥–∏–ª—å–¥–∏–∏.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞/NPC (–≤—ã–∑–æ–≤ API 15 `get_player_inventory` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–≥–æ –¥–ª—è NPC). –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Å –∏—Ö –¥–µ—Ç–∞–ª—è–º–∏ (—Å–≤–æ–π—Å—Ç–≤–∞, i18n –æ–ø–∏—Å–∞–Ω–∏—è).
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –≥–∏–ª—å–¥–∏–∏ (–≤—ã–∑–æ–≤ API CRUD 41 –¥–ª—è –º–æ–¥–µ–ª–∏ Item 42). –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Item, –≤–∫–ª—é—á–∞—è `_i18n` –Ω–∞–∑–≤–∞–Ω–∏—è/–æ–ø–∏—Å–∞–Ω–∏—è.
    *   –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –º–µ–∂–¥—É –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è–º–∏ —á–µ—Ä–µ–∑ UI (–≤—ã–∑–æ–≤ API 15 add/remove).
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ–º –∏ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ –≤ –≥–∏–ª—å–¥–∏–∏.

---

**–ó–∞–¥–∞—á–∞ 61: üñ•Ô∏è UI.7 UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –§—Ä–∞–∫—Ü–∏—è–º–∏ –∏ –û—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 20, 21)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ—Ä–∞–∫—Ü–∏—è–º–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ—Ä–∞–∫—Ü–∏–π (–≤—ã–∑–æ–≤ API CRUD 41 –¥–ª—è –º–æ–¥–µ–ª–∏ GeneratedFaction 20). –§–æ—Ä–º—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—Ä–∞–∫—Ü–∏–π (–≤–∫–ª—é—á–∞—è `_i18n`).
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (–≤—ã–∑–æ–≤ API CRUD 41 –¥–ª—è –º–æ–¥–µ–ª–∏ Relationship 21). –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏ –≤ –≥–∏–ª—å–¥–∏–∏, —Ñ–æ—Ä–º—ã –¥–ª—è –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è. –í–æ–∑–º–æ–∂–Ω–æ, –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ—Ä–∞–∫—Ü–∏—è–º–∏ –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏.

---

**–ó–∞–¥–∞—á–∞ 62: üñ•Ô∏è UI.8 UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ö–≤–µ—Å—Ç–∞–º–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 39)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞–º–∏.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤ –≤ –≥–∏–ª—å–¥–∏–∏ (–≤—ã–∑–æ–≤ API CRUD 41 –¥–ª—è GeneratedQuest 39).
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –∫–≤–µ—Å—Ç–∞, –≤–∫–ª—é—á–∞—è —à–∞–≥–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (`required_mechanics_json`), –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Ü–µ–ª–∏ (`abstract_goal_json`), –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è (`consequences_json`). –£–¥–æ–±–Ω—ã–µ —Ñ–æ—Ä–º—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∏—Ö JSON —Å—Ç—Ä—É–∫—Ç—É—Ä. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `_i18n` —Ç–µ–∫—Å—Ç–æ–≤.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∫–≤–µ—Å—Ç–æ–≤ —É –∏–≥—Ä–æ–∫–æ–≤/–ø–∞—Ä—Ç–∏–π.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–≤–µ—Å—Ç–∞–º–∏ –≤ –≥–∏–ª—å–¥–∏–∏.

---

**–ó–∞–¥–∞—á–∞ 63: üñ•Ô∏è UI.9 UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ì–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –°—É—â–Ω–æ—Å—Ç—è–º–∏.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 45)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ì–ª–æ–±–∞–ª—å–Ω—ã—Ö –°—É—â–Ω–æ—Å—Ç–µ–π (MobileGroup, GlobalNpc, GlobalEvent) –≤ –≥–∏–ª—å–¥–∏–∏ (–≤—ã–∑–æ–≤ API CRUD 41 –¥–ª—è –º–æ–¥–µ–ª–µ–π 45).
    *   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è, –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Ü–µ–ª–µ–π. –§–æ—Ä–º—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

**–ó–∞–¥–∞—á–∞ 64: üñ•Ô∏è UI.10 UI –¥–ª—è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –õ–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 43)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ WorldState (API 43).
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–∞ —Å–æ–±—ã—Ç–∏–π (API 43). –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –ª–æ–≥–∞. –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –ª–æ–≥–∞ (API 47) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
    *   –í–æ–∑–º–æ–∂–Ω–æ, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã –≥–∏–ª—å–¥–∏–∏ (–Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö Location 4.1). –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤, –ø–∞—Ä—Ç–∏–π, –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π.

---

**–ó–∞–¥–∞—á–∞ 65: üñ•Ô∏è UI.11 UI –¥–ª—è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ë–∞–ª–∞–Ω—Å–∞.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 48)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –±–∞–ª–∞–Ω—Å–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
    *   –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–π (–±–æ—è, –ø—Ä–æ–≤–µ—Ä–æ–∫, –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ - –≤—ã–∑–æ–≤ API 48) —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–π.
    *   –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ AI (API 48).

---

**–ó–∞–¥–∞—á–∞ 66: üñ•Ô∏è UI.12 UI –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 41)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å UI —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.
    *   –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Å–ø–∏—Å–æ–∫ pending –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –¥–ª—è —ç—Ç–æ–π –≥–∏–ª—å–¥–∏–∏ (–∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–ø–∏—Å–µ–π `PendingConflict` —á–µ—Ä–µ–∑ API 41).
    *   –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞: –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (–¥–µ–π—Å—Ç–≤–∏—è –∏–≥—Ä–æ–∫–æ–≤, —Ç–∏–ø –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞) –≤ —á–∏—Ç–∞–µ–º–æ–º –≤–∏–¥–µ.
    *   –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∫–Ω–æ–ø–∫–∏, –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫) –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏—Å—Ö–æ–¥–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ (–Ω–∞ –æ—Å–Ω–æ–≤–µ `master_outcome_types` –∏–∑ RuleConfig 13/41).
    *   –ö–Ω–æ–ø–∫–∞ "–†–∞–∑—Ä–µ—à–∏—Ç—å" (–≤—ã–∑–æ–≤ API 41 `master_resolve_conflict`).

---

**–ó–∞–¥–∞—á–∞ 67: üñ•Ô∏è UI.13 Backend API –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç 0.1)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å API endpoint –Ω–∞ backend, –≤—ã–¥–∞—é—â–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–∞—Ö –±–æ—Ç–∞.
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/api/commands`). –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ Discord –±–æ—Ç–∞ (–∏–∑ Discord API —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –±–æ—Ç–∞). –î–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã: –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.
    *   API –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é **–Ω–∞ —è–∑—ã–∫–µ –±–æ—Ç–∞ (–≥–∏–ª—å–¥–∏–∏)** –∏–ª–∏ **–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ**.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: Backend API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–º–∞–Ω–¥–∞—Ö.

---

**–ó–∞–¥–∞—á–∞ 68: üñ•Ô∏è UI.14 UI —Ä–∞–∑–¥–µ–ª "–°–ø–∏—Å–æ–∫ –ö–æ–º–∞–Ω–¥" (Help/Guide).** (–ó–∞–≤–∏—Å–∏—Ç –æ—Ç API 67)
    *   –û–ø–∏—Å–∞–Ω–∏–µ: –í UI, —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–¥–µ–ª –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥.
    *   –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ API 67. –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ–≥–æ –≤ —á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (—Ç–∞–±–ª–∏—Ü–∞, —Å–ø–∏—Å–æ–∫). –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
    *   –†–µ–∑—É–ª—å—Ç–∞—Ç: –í UI –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª —Å–ø—Ä–∞–≤–∫–∏ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º.


